const a0_0xd66924=a0_0x1608;(function(_0x2ea3ae,_0x1f8a6a){const _0x36d9cc=a0_0x1608,_0x58b4b4=_0x2ea3ae();while(!![]){try{const _0x56c9be=-parseInt(_0x36d9cc(0x27e))/0x1+parseInt(_0x36d9cc(0x1ec))/0x2*(parseInt(_0x36d9cc(0xc9))/0x3)+-parseInt(_0x36d9cc(0x131))/0x4+-parseInt(_0x36d9cc(0x227))/0x5+-parseInt(_0x36d9cc(0x12e))/0x6+parseInt(_0x36d9cc(0x277))/0x7*(-parseInt(_0x36d9cc(0x28e))/0x8)+parseInt(_0x36d9cc(0x1e5))/0x9*(parseInt(_0x36d9cc(0x1bc))/0xa);if(_0x56c9be===_0x1f8a6a)break;else _0x58b4b4['push'](_0x58b4b4['shift']());}catch(_0x505fc3){_0x58b4b4['push'](_0x58b4b4['shift']());}}}(a0_0xb849,0x5c66c));var webRtcPlayerObj=null,print_stats=![],print_inputs=![],connect_on_load=!![],is_reconnection=![],ws;const WS_OPEN_STATE=0x1;var qualityControlOwnershipCheckBox,matchViewportResolution,lastTimeResized=new Date()[a0_0xd66924(0x162)](),resizeTimeout,onDataChannelConnected,responseEventListeners=new Map(),freezeFrameOverlay=null,shouldShowPlayOverlay=!![],freezeFrame={'receiving':![],'size':0x0,'jpeg':undefined,'height':0x0,'width':0x0,'valid':![]},afk={'enabled':![],'warnTimeout':0x78,'closeTimeout':0xa,'active':![],'overlay':undefined,'warnTimer':undefined,'countdown':0x0,'countdownTimer':undefined},editTextButton=undefined,hiddenInput=undefined,t0=Date[a0_0xd66924(0x27d)]();function log(_0x21fda7){const _0x1470ed=a0_0xd66924;MsgEvent['log'](Math[_0x1470ed(0xed)](Date[_0x1470ed(0x27d)]()-t0)+':\x20'+_0x21fda7);}function setupHtmlEvents(){const _0x58dee9=a0_0xd66924;window[_0x58dee9(0x1f1)](_0x58dee9(0x1c9),resizePlayerStyle,!![]),window[_0x58dee9(0x1f1)](_0x58dee9(0x23c),onOrientationChange);let _0x5c400f=document['getElementById'](_0x58dee9(0x119));_0x5c400f[_0x58dee9(0x1f1)](_0x58dee9(0x177),onExpandOverlay_Click);let _0x7bf4be=document[_0x58dee9(0x255)](_0x58dee9(0x28a));_0x7bf4be!==null&&(_0x7bf4be['onchange']=function(_0x3fdbdd){resizePlayerStyle();});qualityControlOwnershipCheckBox=document[_0x58dee9(0x255)](_0x58dee9(0x1bd));qualityControlOwnershipCheckBox!==null&&(qualityControlOwnershipCheckBox[_0x58dee9(0x1b8)]=function(_0x355d88){requestQualityControl();});let _0xaa1ad4=document[_0x58dee9(0x255)](_0x58dee9(0x1c1));_0xaa1ad4!==null&&(_0xaa1ad4[_0x58dee9(0x1d6)]=function(_0x1dbd58){const _0x48a193=_0x58dee9;let _0x5db801=document[_0x48a193(0x255)]('encoder-rate-control')[_0x48a193(0x1eb)],_0x473b22=document[_0x48a193(0x255)](_0x48a193(0x211))[_0x48a193(0x1eb)]*0x3e8,_0x205f76=document[_0x48a193(0x255)]('encoder-max-bitrate-text')[_0x48a193(0x1eb)]*0x3e8,_0x16627a=document[_0x48a193(0x255)](_0x48a193(0x267))[_0x48a193(0x1eb)],_0x4b34d6=document[_0x48a193(0x255)]('encoder-max-qp-text')[_0x48a193(0x1eb)],_0x123df3=document['getElementById'](_0x48a193(0x133))[_0x48a193(0x118)]?0x1:0x0,_0x277791=document[_0x48a193(0x255)](_0x48a193(0x161))[_0x48a193(0x1eb)];emitUIInteraction({'Console':_0x48a193(0x132)+_0x5db801}),emitUIInteraction({'Console':'PixelStreaming.Encoder.TargetBitrate\x20'+_0x473b22>0x0?_0x473b22:-0x1}),emitUIInteraction({'Console':_0x48a193(0x1ed)+_0x205f76>0x0?_0x205f76:-0x1}),emitUIInteraction({'Console':_0x48a193(0x20f)+_0x16627a}),emitUIInteraction({'Console':'PixelStreaming.Encoder.MaxQP\x20'+_0x4b34d6}),emitUIInteraction({'Console':'PixelStreaming.Encoder.EnableFillerData\x20'+_0x123df3}),emitUIInteraction({'Console':'PixelStreaming.Encoder.Multipass\x20'+_0x277791});});let _0x49313d=document[_0x58dee9(0x255)]('webrtc-params-submit');_0x49313d!==null&&(_0x49313d[_0x58dee9(0x1d6)]=function(_0x10a3f2){const _0x3d63c2=_0x58dee9;let _0x4e6f54=document[_0x3d63c2(0x255)]('webrtc-degradation-pref')[_0x3d63c2(0x1eb)],_0x393c34=document['getElementById'](_0x3d63c2(0x12f))[_0x3d63c2(0x1eb)],_0x5aeb85=document[_0x3d63c2(0x255)]('webrtc-min-bitrate-text')[_0x3d63c2(0x1eb)]*0x3e8,_0x47345d=document[_0x3d63c2(0x255)](_0x3d63c2(0x186))[_0x3d63c2(0x1eb)]*0x3e8,_0x30878f=document[_0x3d63c2(0x255)]('webrtc-low-qp-text')[_0x3d63c2(0x1eb)],_0x197130=document['getElementById'](_0x3d63c2(0x1dc))[_0x3d63c2(0x1eb)];emitUIInteraction({'Console':_0x3d63c2(0x1b4)+_0x4e6f54}),emitUIInteraction({'Console':_0x3d63c2(0x127)+_0x393c34}),emitUIInteraction({'Console':'PixelStreaming.WebRTC.MinBitrate\x20'+_0x5aeb85}),emitUIInteraction({'Console':_0x3d63c2(0x1ad)+_0x47345d}),emitUIInteraction({'Console':_0x3d63c2(0x28f)+_0x30878f}),emitUIInteraction({'Console':_0x3d63c2(0x256)+_0x197130});});let _0xed0f14=document[_0x58dee9(0x255)](_0x58dee9(0x182));_0xed0f14!==null&&(_0xed0f14['onclick']=function(_0x2f415d){const _0x564183=_0x58dee9;let _0x150600={'Console':_0x564183(0x247)};emitUIInteraction(_0x150600);});let _0x5ec4f6=document[_0x58dee9(0x255)]('match-viewport-res-tgl');_0x5ec4f6!==null&&(_0x5ec4f6[_0x58dee9(0x1b8)]=function(_0x1206e4){const _0x1232e4=_0x58dee9;matchViewportResolution=_0x5ec4f6[_0x1232e4(0x118)];});let _0x35f790=document[_0x58dee9(0x255)](_0x58dee9(0x234));_0x35f790!==null&&(_0x35f790[_0x58dee9(0x1b8)]=function(_0x41c11a){const _0x5aa806=_0x58dee9;let _0x203e4b=document['getElementById'](_0x5aa806(0x1e8));_0x203e4b[_0x5aa806(0x240)][_0x5aa806(0x180)]=_0x41c11a[_0x5aa806(0x1cb)][_0x5aa806(0x118)]?'block':_0x5aa806(0xf8);});var _0x46e2ac=document[_0x58dee9(0x255)](_0x58dee9(0x106));_0x46e2ac&&(_0x46e2ac[_0x58dee9(0x1d6)]=function(_0x516f99){const _0x5fee80=_0x58dee9;MsgEvent[_0x5fee80(0xe3)]('->\x20SS:\x20kick'),ws[_0x5fee80(0x189)](JSON[_0x5fee80(0x21f)]({'type':_0x5fee80(0x241)}));});}function sendStartLatencyTest(){const _0x1ee964=a0_0xd66924;if(!webRtcPlayerObj)return;let _0x4b48d9=function(_0x4d576f){let _0x5d2f18={'StartTime':_0x4d576f};emitDescriptor(MessageType['LatencyTest'],_0x5d2f18);};webRtcPlayerObj[_0x1ee964(0x152)](_0x4b48d9);}function setOverlay(_0xea36d,_0x85d4de,_0x5d7b0d){const _0x4cbf99=a0_0xd66924;return APP[_0x4cbf99(0xe0)];var _0x1525a4=document[_0x4cbf99(0x255)](_0x4cbf99(0x13c));if(!_0x1525a4){var _0x10f0ee=document[_0x4cbf99(0x255)](_0x4cbf99(0x105));_0x1525a4=document['createElement'](_0x4cbf99(0x23b)),_0x1525a4['id']=_0x4cbf99(0x13c),_0x10f0ee[_0x4cbf99(0xda)](_0x1525a4);}while(_0x1525a4[_0x4cbf99(0x124)]){_0x1525a4['removeChild'](_0x1525a4[_0x4cbf99(0x124)]);}if(_0x85d4de)_0x1525a4['appendChild'](_0x85d4de);_0x5d7b0d&&_0x1525a4[_0x4cbf99(0x1f1)](_0x4cbf99(0x177),function _0x262a0a(_0x57dd03){const _0x27da0b=_0x4cbf99;_0x5d7b0d(_0x57dd03),_0x1525a4[_0x27da0b(0xf4)](_0x27da0b(0x177),_0x262a0a);});var _0x541e97=_0x1525a4[_0x4cbf99(0xc0)];for(var _0x15976e=_0x541e97['length']-0x1;_0x15976e>=0x0;_0x15976e--){_0x541e97[_0x4cbf99(0x110)](_0x541e97[_0x15976e]);}_0x1525a4['classList'][_0x4cbf99(0x134)](_0xea36d);}function showConnectOverlay(){const _0x4b6413=a0_0xd66924;var _0x57391d=document[_0x4b6413(0xd0)](_0x4b6413(0x23b));_0x57391d['id']=_0x4b6413(0x12d),_0x57391d['innerHTML']=_0x4b6413(0xc6),setOverlay('clickableState',_0x57391d,_0x4217f0=>{connect(),startAfkWarningTimer();});}function showTextOverlay(_0x1933c5){const _0x2819e7=a0_0xd66924;var _0x4a4726=document[_0x2819e7(0xd0)](_0x2819e7(0x23b));_0x4a4726['id']=_0x2819e7(0x16e),_0x4a4726[_0x2819e7(0x101)]=_0x1933c5?_0x1933c5:'',setOverlay('textDisplayState',_0x4a4726);}function showPlayOverlay(){const _0x268a3a=a0_0xd66924;var _0x411e4f=document['createElement']('img');_0x411e4f['id']=_0x268a3a(0x12d),_0x411e4f[_0x268a3a(0x120)]='/images/Play.png',_0x411e4f[_0x268a3a(0x168)]=_0x268a3a(0x27f),setOverlay('clickableState',_0x411e4f,_0x35e90e=>{const _0x35a5aa=_0x268a3a;if(webRtcPlayerObj)webRtcPlayerObj[_0x35a5aa(0xfb)]['play']();requestInitialSettings(),requestQualityControl(),showFreezeFrameOverlay(),hideOverlay();}),shouldShowPlayOverlay=![];}function updateAfkOverlayText(){const _0x3f3f77=a0_0xd66924;afk[_0x3f3f77(0xe0)][_0x3f3f77(0x101)]=_0x3f3f77(0x12a)+afk[_0x3f3f77(0x1e4)]+'\x20seconds<br>Click\x20to\x20continue<br></center>';}function showAfkOverlay(){const _0x32af36=a0_0xd66924;stopAfkWarningTimer(),afk[_0x32af36(0xe0)]=document[_0x32af36(0xd0)](_0x32af36(0x23b)),afk[_0x32af36(0xe0)]['id']='afkOverlay',setOverlay('clickableState',afk[_0x32af36(0xe0)],_0x544045=>{const _0x54d14e=_0x32af36;hideOverlay(),clearInterval(afk[_0x54d14e(0x253)]),startAfkWarningTimer();}),afk['countdown']=afk[_0x32af36(0xbf)],updateAfkOverlayText(),inputOptions[_0x32af36(0x284)]==ControlSchemeType[_0x32af36(0x219)]&&document[_0x32af36(0x1e0)](),afk[_0x32af36(0x253)]=setInterval(function(){const _0xacc843=_0x32af36;afk['countdown']--,afk[_0xacc843(0x1e4)]==0x0?(hideOverlay(),ws[_0xacc843(0xd9)]()):updateAfkOverlayText();},0x3e8);}function hideOverlay(){const _0x35633a=a0_0xd66924;setOverlay(_0x35633a(0x257));}function startAfkWarningTimer(){const _0x4419c8=a0_0xd66924;afk[_0x4419c8(0x293)]=afk[_0x4419c8(0x26d)],resetAfkWarningTimer();}function stopAfkWarningTimer(){const _0x432c4f=a0_0xd66924;afk[_0x432c4f(0x293)]=![];}function resetAfkWarningTimer(){const _0x5eedea=a0_0xd66924;afk[_0x5eedea(0x293)]&&(clearTimeout(afk['warnTimer']),afk[_0x5eedea(0x103)]=setTimeout(function(){showAfkOverlay();},afk['warnTimeout']*0x3e8));}function createWebRtcOffer(){const _0x555658=a0_0xd66924;webRtcPlayerObj?(MsgEvent['log']('Creating\x20offer'),showTextOverlay('Starting\x20connection\x20to\x20server,\x20please\x20wait'),webRtcPlayerObj['createOffer']()):(MsgEvent[_0x555658(0xe3)](_0x555658(0x263)),showTextOverlay(_0x555658(0x10e)));}function sendInputData(_0x203c92){webRtcPlayerObj&&(resetAfkWarningTimer(),webRtcPlayerObj['send'](_0x203c92));}function addResponseEventListener(_0x327fb1,_0x18c033){const _0xc42dc2=a0_0xd66924;responseEventListeners[_0xc42dc2(0x11b)](_0x327fb1,_0x18c033);}function removeResponseEventListener(_0x35700c){const _0x5a0d00=a0_0xd66924;responseEventListeners[_0x5a0d00(0x110)](_0x35700c);}const ToClientMessageType={'QualityControlOwnership':0x0,'Response':0x1,'Command':0x2,'FreezeFrame':0x3,'UnfreezeFrame':0x4,'VideoEncoderAvgQP':0x5,'LatencyTest':0x6,'InitialSettings':0x7};var VideoEncoderQP=a0_0xd66924(0x16d);function setupWebRtcPlayer(_0x42fd18,_0x4d9271){const _0x4f2178=a0_0xd66924;MsgEvent[_0x4f2178(0x169)](_0x4f2178(0x23e)),webRtcPlayerObj=new a0_0x2e05f1({'peerConnectionOptions':_0x4d9271[_0x4f2178(0x25e)]}),_0x42fd18[_0x4f2178(0xda)](webRtcPlayerObj[_0x4f2178(0xfb)]),_0x42fd18[_0x4f2178(0xda)](freezeFrameOverlay),webRtcPlayerObj[_0x4f2178(0x1b6)]=function(_0x1eee36){const _0x44f3bb=_0x4f2178;MsgEvent[_0x44f3bb(0x169)](_0x44f3bb(0x289));if(ws&&ws[_0x44f3bb(0xcb)]===WS_OPEN_STATE){let _0x2c5186=JSON[_0x44f3bb(0x21f)](_0x1eee36);MsgEvent[_0x44f3bb(0xe3)]('->\x20SS:\x20offer:\x0a'+_0x2c5186),ws['send'](_0x2c5186);}},webRtcPlayerObj[_0x4f2178(0x145)]=function(_0x18c093){const _0x4f51d5=_0x4f2178;MsgEvent[_0x4f51d5(0x169)](_0x4f51d5(0x14d)),ws&&ws[_0x4f51d5(0xcb)]===WS_OPEN_STATE&&(MsgEvent[_0x4f51d5(0xe3)](_0x4f51d5(0x282)+JSON['stringify'](_0x18c093,undefined,0x4)),ws[_0x4f51d5(0x189)](JSON[_0x4f51d5(0x21f)]({'type':_0x4f51d5(0xd5),'candidate':_0x18c093})));},webRtcPlayerObj[_0x4f2178(0x10f)]=function(){const _0x5a63d0=_0x4f2178;MsgEvent[_0x5a63d0(0x169)](_0x5a63d0(0x19a)),ws&&ws[_0x5a63d0(0xcb)]===WS_OPEN_STATE&&(APP[_0x5a63d0(0x10f)](),shouldShowPlayOverlay&&(showPlayOverlay(),resizePlayerStyle()));},webRtcPlayerObj[_0x4f2178(0x135)]=function(){const _0x1c8b8f=_0x4f2178;MsgEvent[_0x1c8b8f(0x169)]('webRtcPlayerObj.onDataChannelConnected'),ws&&ws[_0x1c8b8f(0xcb)]===WS_OPEN_STATE&&(showTextOverlay(_0x1c8b8f(0xdc)),webRtcPlayerObj['video']&&webRtcPlayerObj['video'][_0x1c8b8f(0x202)]&&webRtcPlayerObj[_0x1c8b8f(0x10f)]&&webRtcPlayerObj['onVideoInitialised']());};function _0x5dec77(){const _0x28e450=_0x4f2178;MsgEvent[_0x28e450(0x169)](_0x28e450(0x248));let _0x3f7dfb=btoa(freezeFrame['jpeg'][_0x28e450(0x25a)]((_0x1a6b10,_0x2e4c06)=>_0x1a6b10+String[_0x28e450(0x1f5)](_0x2e4c06),''));alert(_0x28e450(0x25f)),freezeFrameOverlay[_0x28e450(0x120)]=_0x28e450(0x26b)+_0x3f7dfb,freezeFrameOverlay['onload']=function(){const _0x207dc0=_0x28e450;freezeFrame[_0x207dc0(0x117)]=freezeFrameOverlay[_0x207dc0(0x283)],freezeFrame[_0x207dc0(0x114)]=freezeFrameOverlay[_0x207dc0(0x19b)],resizeFreezeFrameOverlay(),shouldShowPlayOverlay?(showPlayOverlay(),resizePlayerStyle()):showFreezeFrameOverlay();};}return webRtcPlayerObj['onDataChannelMessage']=function(_0x52fb36){const _0x445e33=_0x4f2178;var _0x180e42=new Uint8Array(_0x52fb36);APP['onDataChannelMessage'](_0x180e42);if(freezeFrame[_0x445e33(0x15a)]){let _0x74c632=new Uint8Array(freezeFrame[_0x445e33(0xf9)]['length']+_0x180e42['length']);_0x74c632['set'](freezeFrame[_0x445e33(0xf9)],0x0),_0x74c632[_0x445e33(0x11b)](_0x180e42,freezeFrame[_0x445e33(0xf9)]['length']),freezeFrame[_0x445e33(0xf9)]=_0x74c632;if(freezeFrame[_0x445e33(0xf9)][_0x445e33(0x18c)]===freezeFrame['size'])freezeFrame[_0x445e33(0x15a)]=![],freezeFrame[_0x445e33(0x1de)]=!![],MsgEvent['log'](_0x445e33(0x1a7)+freezeFrame[_0x445e33(0x1d5)]),_0x5dec77();else freezeFrame[_0x445e33(0xf9)]['length']>freezeFrame[_0x445e33(0x1d5)]?(MsgEvent[_0x445e33(0x1d8)](_0x445e33(0xef)+freezeFrame['jpeg']['length']+'/'+freezeFrame[_0x445e33(0x1d5)]),freezeFrame['jpeg']=undefined,freezeFrame[_0x445e33(0x15a)]=![]):MsgEvent[_0x445e33(0xe3)](_0x445e33(0x1c5)+_0x180e42[_0x445e33(0x18c)]+_0x445e33(0x17d)+freezeFrame['jpeg']['length']+'/'+freezeFrame['size']);}else{if(_0x180e42[0x0]===ToClientMessageType[_0x445e33(0x215)]){let _0x96ee62=_0x180e42[0x1]===0x0?![]:!![];MsgEvent[_0x445e33(0xe3)]('Received\x20quality\x20controller\x20message,\x20will\x20control\x20quality:\x20'+_0x96ee62),qualityControlOwnershipCheckBox!==null&&(qualityControlOwnershipCheckBox[_0x445e33(0x13e)]=_0x96ee62,qualityControlOwnershipCheckBox[_0x445e33(0x118)]=_0x96ee62);}else{if(_0x180e42[0x0]===ToClientMessageType[_0x445e33(0x279)]){let _0x420d69=new TextDecoder(_0x445e33(0x146))[_0x445e33(0x18f)](_0x52fb36[_0x445e33(0x107)](0x1));for(let _0xb313cb of responseEventListeners['values']()){_0xb313cb(_0x420d69);}}else{if(_0x180e42[0x0]===ToClientMessageType[_0x445e33(0x16f)]){let _0x497310=new TextDecoder(_0x445e33(0x146))[_0x445e33(0x18f)](_0x52fb36[_0x445e33(0x107)](0x1));MsgEvent[_0x445e33(0xe3)](_0x497310);let _0x12d51b=JSON[_0x445e33(0x22b)](_0x497310);_0x12d51b[_0x445e33(0x22d)]==='onScreenKeyboard'&&showOnScreenKeyboard(_0x12d51b);}else{if(_0x180e42[0x0]===ToClientMessageType[_0x445e33(0x175)])freezeFrame['size']=new DataView(_0x180e42[_0x445e33(0x107)](0x1,0x5)[_0x445e33(0x204)])[_0x445e33(0xc1)](0x0,!![]),freezeFrame[_0x445e33(0xf9)]=_0x180e42[_0x445e33(0x107)](0x1+0x4),freezeFrame[_0x445e33(0xf9)][_0x445e33(0x18c)]<freezeFrame[_0x445e33(0x1d5)]?(MsgEvent[_0x445e33(0xe3)]('received\x20first\x20chunk\x20of\x20freeze\x20frame:\x20'+freezeFrame[_0x445e33(0xf9)][_0x445e33(0x18c)]+'/'+freezeFrame['size']),freezeFrame['receiving']=!![]):(MsgEvent[_0x445e33(0xe3)]('received\x20complete\x20freeze\x20frame:\x20'+freezeFrame[_0x445e33(0xf9)][_0x445e33(0x18c)]+'/'+freezeFrame['size']),_0x5dec77());else{if(_0x180e42[0x0]===ToClientMessageType[_0x445e33(0x15b)])invalidateFreezeFrameOverlay();else{if(_0x180e42[0x0]===ToClientMessageType[_0x445e33(0x104)])VideoEncoderQP=new TextDecoder(_0x445e33(0x146))[_0x445e33(0x18f)](_0x52fb36[_0x445e33(0x107)](0x1));else{if(_0x180e42[0x0]==ToClientMessageType['LatencyTest']){let _0x428ab1=new TextDecoder('utf-16')['decode'](_0x52fb36['slice'](0x1));MsgEvent['log'](_0x445e33(0x13d)),MsgEvent[_0x445e33(0xe3)](_0x428ab1);let _0x4e59ba=JSON[_0x445e33(0x22b)](_0x428ab1);webRtcPlayerObj&&webRtcPlayerObj[_0x445e33(0x22e)][_0x445e33(0x165)](_0x4e59ba);}else{if(_0x180e42[0x0]==ToClientMessageType[_0x445e33(0x285)]){let _0x200eac=new TextDecoder(_0x445e33(0x146))[_0x445e33(0x18f)](_0x52fb36[_0x445e33(0x107)](0x1)),_0x51b7c3=JSON['parse'](_0x200eac);_0x51b7c3[_0x445e33(0x271)]&&(document[_0x445e33(0x255)](_0x445e33(0x1e6))[_0x445e33(0x1eb)]=_0x51b7c3['Encoder']['RateControl'],document['getElementById'](_0x445e33(0x211))['value']=_0x51b7c3[_0x445e33(0x271)]['TargetBitrate']>0x0?_0x51b7c3['Encoder'][_0x445e33(0x1b5)]/0x3e8:_0x51b7c3[_0x445e33(0x271)][_0x445e33(0x1b5)],document[_0x445e33(0x255)](_0x445e33(0x1c3))[_0x445e33(0x1eb)]=_0x51b7c3[_0x445e33(0x271)][_0x445e33(0x14b)]>0x0?_0x51b7c3[_0x445e33(0x271)][_0x445e33(0x14b)]/0x3e8:_0x51b7c3[_0x445e33(0x271)][_0x445e33(0x14b)],document[_0x445e33(0x255)](_0x445e33(0x267))['value']=_0x51b7c3['Encoder'][_0x445e33(0x28b)],document[_0x445e33(0x255)]('encoder-max-qp-text')[_0x445e33(0x1eb)]=_0x51b7c3[_0x445e33(0x271)]['MaxQP'],document[_0x445e33(0x255)](_0x445e33(0x133))['checked']=_0x51b7c3[_0x445e33(0x271)]['FillerData']==0x1,document['getElementById'](_0x445e33(0x161))[_0x445e33(0x1eb)]=_0x51b7c3['Encoder'][_0x445e33(0x18a)]),_0x51b7c3[_0x445e33(0x261)]&&(document['getElementById'](_0x445e33(0x19c))[_0x445e33(0x1eb)]=_0x51b7c3[_0x445e33(0x261)][_0x445e33(0x14f)],document[_0x445e33(0x255)]('webrtc-max-fps-text')[_0x445e33(0x1eb)]=_0x51b7c3[_0x445e33(0x261)][_0x445e33(0x17b)],document[_0x445e33(0x255)]('webrtc-min-bitrate-text')[_0x445e33(0x1eb)]=_0x51b7c3['WebRTC'][_0x445e33(0x100)]/0x3e8,document[_0x445e33(0x255)]('webrtc-max-bitrate-text')[_0x445e33(0x1eb)]=_0x51b7c3[_0x445e33(0x261)]['MaxBitrate']/0x3e8,document[_0x445e33(0x255)]('webrtc-low-qp-text')[_0x445e33(0x1eb)]=_0x51b7c3[_0x445e33(0x261)][_0x445e33(0x273)],document[_0x445e33(0x255)]('webrtc-high-qp-text')['value']=_0x51b7c3[_0x445e33(0x261)][_0x445e33(0x1fe)]);}else MsgEvent[_0x445e33(0x1d8)](_0x445e33(0x258)+_0x180e42[0x0]);}}}}}}}}},registerInputs(webRtcPlayerObj[_0x4f2178(0xfb)]),_0x4f2178(0x13a)in document[_0x4f2178(0x264)]&&createOnScreenKeyboardHelpers(_0x42fd18),createWebRtcOffer(),webRtcPlayerObj[_0x4f2178(0xfb)];}function onWebRtcAnswer(_0x1b5c7c){const _0x5a045b=a0_0xd66924;MsgEvent[_0x5a045b(0x169)](_0x5a045b(0x20b)),webRtcPlayerObj['receiveAnswer'](_0x1b5c7c);let _0x4eacab=0x5*0x3c*0x3e8,_0x299e02=_0x4eacab;webRtcPlayerObj[_0x5a045b(0x158)]=_0xbdaf4d=>{const _0x444a63=_0x5a045b;APP[_0x444a63(0x158)](_0xbdaf4d);let _0x5981d9=new Intl['NumberFormat'](window[_0x444a63(0x24b)]['language'],{'maximumFractionDigits':0x0}),_0x56698b=new Intl[(_0x444a63(0x163))](window[_0x444a63(0x24b)][_0x444a63(0x286)],{'maximumFractionDigits':0x0,'minimumIntegerDigits':0x2}),_0x384d12=(_0xbdaf4d[_0x444a63(0x11d)]-_0xbdaf4d[_0x444a63(0x225)])/0x3e8,_0x392468=[],_0x1c960f=[0x3c,0x3c];for(let _0x247e62=0x0;_0x247e62<_0x1c960f[_0x444a63(0x18c)];_0x247e62++){_0x392468[_0x444a63(0x1d4)](_0x384d12%_0x1c960f[_0x247e62]),_0x384d12=_0x384d12/_0x1c960f[_0x247e62];}_0x392468[_0x444a63(0x1d4)](_0x384d12);let _0x4b7efa=_0x392468[0x0],_0x5d58f4=Math[_0x444a63(0xed)](_0x392468[0x1]),_0x55f859=Math[_0x444a63(0xed)]([_0x392468[0x2]]);receivedBytesMeasurement='B',receivedBytes=_0xbdaf4d['hasOwnProperty'](_0x444a63(0x268))?_0xbdaf4d[_0x444a63(0x268)]:0x0;let _0x572857=['kB','MB','GB'];for(let _0x142bab=0x0;_0x142bab<_0x572857[_0x444a63(0x18c)];_0x142bab++){if(receivedBytes<0x64*0x3e8)break;receivedBytes=receivedBytes/0x3e8,receivedBytesMeasurement=_0x572857[_0x142bab];}let _0x3f88c6=document[_0x444a63(0x255)](_0x444a63(0x15e)),_0x1382ae=function(_0x5b0a8c){let _0x420e87=_0x5b0a8c,_0x159868=0x1,_0x34832d=setInterval(function(){const _0x109a77=a0_0x1608;_0x159868-=0.1,_0x3f88c6[_0x109a77(0x240)]=_0x109a77(0x20a)+Math[_0x109a77(0x14c)]((_0x159868-0.5)*0x2),_0x159868<=0.1&&(--_0x420e87==0x0?clearInterval(_0x34832d):_0x159868=0x1);},0x64/_0x5b0a8c);};APP[_0x444a63(0x142)](VideoEncoderQP);const _0x2b19e5=0x1a,_0x5dd847=0x23;let _0x14a513='',_0x110bb6=_0x444a63(0x187);if(VideoEncoderQP>_0x5dd847)_0x110bb6=_0x444a63(0xce),_0x1382ae(0x2),_0x14a513+=_0x444a63(0x246)+_0x110bb6+_0x444a63(0x20d);else VideoEncoderQP>_0x2b19e5&&(_0x110bb6=_0x444a63(0x21b),_0x1382ae(0x1),_0x14a513+=_0x444a63(0x246)+_0x110bb6+_0x444a63(0x1d9));_0x3f88c6['className']=_0x110bb6+_0x444a63(0x1ab),_0x14a513+=_0x444a63(0x250)+_0x56698b[_0x444a63(0xff)](_0x55f859)+':'+_0x56698b[_0x444a63(0xff)](_0x5d58f4)+':'+_0x56698b[_0x444a63(0xff)](_0x4b7efa)+_0x444a63(0xc4),_0x14a513+=_0x444a63(0xc7)+(_0xbdaf4d[_0x444a63(0x171)](_0x444a63(0x123))&&_0xbdaf4d[_0x444a63(0x123)]&&_0xbdaf4d[_0x444a63(0x171)]('frameHeight')&&_0xbdaf4d[_0x444a63(0x137)]?_0xbdaf4d['frameWidth']+'x'+_0xbdaf4d[_0x444a63(0x137)]:'Chrome\x20only')+_0x444a63(0xc4),_0x14a513+=_0x444a63(0x166)+receivedBytesMeasurement+_0x444a63(0x212)+_0x5981d9[_0x444a63(0xff)](receivedBytes)+_0x444a63(0xc4),_0x14a513+=_0x444a63(0x164)+(_0xbdaf4d[_0x444a63(0x171)](_0x444a63(0xdd))?_0x5981d9[_0x444a63(0xff)](_0xbdaf4d[_0x444a63(0xdd)]):'Chrome\x20only')+_0x444a63(0xc4),_0x14a513+=_0x444a63(0x1b2)+(_0xbdaf4d[_0x444a63(0x171)]('packetsLost')?_0x5981d9['format'](_0xbdaf4d[_0x444a63(0x209)]):_0x444a63(0x130))+_0x444a63(0xc4),_0x14a513+='<div\x20style=\x22color:\x20'+_0x110bb6+_0x444a63(0xe6)+(_0xbdaf4d[_0x444a63(0x171)](_0x444a63(0x228))?_0x5981d9[_0x444a63(0xff)](_0xbdaf4d[_0x444a63(0x228)]):_0x444a63(0x130))+'</div>',_0x14a513+=_0x444a63(0x1d7)+(_0xbdaf4d[_0x444a63(0x171)](_0x444a63(0x1fb))?_0x5981d9[_0x444a63(0xff)](_0xbdaf4d['framerate']):'Chrome\x20only')+_0x444a63(0xc4),_0x14a513+=_0x444a63(0x128)+(_0xbdaf4d['hasOwnProperty'](_0x444a63(0x151))?_0x5981d9[_0x444a63(0xff)](_0xbdaf4d[_0x444a63(0x151)]):_0x444a63(0x130))+_0x444a63(0xc4),_0x14a513+=_0x444a63(0x19e)+(_0xbdaf4d[_0x444a63(0x171)](_0x444a63(0xe7))?_0x5981d9[_0x444a63(0xff)](_0xbdaf4d['currentRoundTripTime']*0x3e8):'Can\x27t\x20calculate')+'</div>',_0x14a513+=_0x444a63(0x1a9)+(_0xbdaf4d[_0x444a63(0x171)](_0x444a63(0xe2))?_0x5981d9['format'](_0xbdaf4d[_0x444a63(0xe2)]):_0x444a63(0x130))+'</div>',_0x14a513+=_0x444a63(0x246)+_0x110bb6+'\x22>Video\x20Quantization\x20Parameter:\x20'+VideoEncoderQP+_0x444a63(0xc4);let _0x369484=document[_0x444a63(0x255)](_0x444a63(0x116));_0x369484[_0x444a63(0x101)]=_0x14a513,print_stats&&(_0xbdaf4d[_0x444a63(0x225)]&&(_0xbdaf4d[_0x444a63(0x11d)]-_0xbdaf4d[_0x444a63(0x225)]>_0x299e02&&(ws&&ws['readyState']===WS_OPEN_STATE&&(MsgEvent[_0x444a63(0xe3)](_0x444a63(0x242)+JSON[_0x444a63(0x21f)](_0xbdaf4d)),ws[_0x444a63(0x189)](JSON['stringify']({'type':'stats','data':_0xbdaf4d}))),_0x299e02+=_0x4eacab)));},webRtcPlayerObj['aggregateStats'](0x1*0x3e8),webRtcPlayerObj[_0x5a045b(0x22e)][_0x5a045b(0x113)]=function(_0x3ec7ec){const _0xa24f25=_0x5a045b;MsgEvent[_0xa24f25(0x169)](_0xa24f25(0x244));if(!_0x3ec7ec['BrowserReceiptTimeMs'])return;let _0x560ebf=_0x3ec7ec['BrowserReceiptTimeMs']-_0x3ec7ec['TestStartTimeMs'],_0x5ef0ac=_0x3ec7ec[_0xa24f25(0xf1)]==0x0||_0x3ec7ec[_0xa24f25(0x218)]==0x0?_0xa24f25(0xbe):_0x3ec7ec[_0xa24f25(0x229)]-_0x3ec7ec[_0xa24f25(0x218)],_0x329d99=_0x3ec7ec[_0xa24f25(0x1c2)]-_0x3ec7ec[_0xa24f25(0x218)],_0xfe829e=_0x3ec7ec['UEPostEncodeTimeMs']-_0x3ec7ec[_0xa24f25(0xf1)],_0x1b3327=_0x3ec7ec['UETransmissionTimeMs']-_0x3ec7ec[_0xa24f25(0x11c)],_0x4817ef=_0x560ebf-_0x1b3327,_0x4b24ab=_0x560ebf-_0x4817ef-_0x1b3327,_0x3a898f=null,_0x17ef13=null;_0x3ec7ec[_0xa24f25(0x237)]&&_0x3ec7ec[_0xa24f25(0x1be)]&&(_0x3a898f=_0x3ec7ec[_0xa24f25(0x237)]+_0x560ebf,_0x17ef13=_0x3a898f-_0x4817ef-_0x1b3327);let _0x27dbce='';_0x27dbce+=_0xa24f25(0xd2)+_0x4817ef+_0xa24f25(0xc4),_0x27dbce+=_0xa24f25(0x126)+_0x5ef0ac+_0xa24f25(0xc4),_0x27dbce+='<div>UE\x20Capture\x20(ms):\x20'+_0x329d99+_0xa24f25(0xc4),_0x27dbce+=_0xa24f25(0xfe)+_0xfe829e+_0xa24f25(0xc4),_0x27dbce+=_0xa24f25(0x27a)+_0x1b3327+_0xa24f25(0xc4),_0x27dbce+='<div>Browser\x20send\x20latency\x20(ms):\x20'+_0x4b24ab+_0xa24f25(0xc4),_0x27dbce+=_0x3ec7ec[_0xa24f25(0x237)]&&_0x3ec7ec[_0xa24f25(0x1be)]?_0xa24f25(0x13b)+_0x3ec7ec['FrameDisplayDeltaTimeMs']+_0xa24f25(0xc4):'',_0x27dbce+=_0x17ef13?'<div>Total\x20browser\x20latency\x20(ms):\x20'+_0x17ef13+_0xa24f25(0xc4):'',_0x27dbce+='<div>Total\x20latency\x20(excluding\x20browser)\x20(ms):\x20'+_0x560ebf+_0xa24f25(0xc4),_0x27dbce+=_0x3a898f?_0xa24f25(0x17e)+_0x3a898f+_0xa24f25(0xc4):'',document[_0xa24f25(0x255)](_0xa24f25(0x1b0))[_0xa24f25(0x101)]=_0x27dbce;};}function onWebRtcIce(_0x144c64){const _0x3f9d01=a0_0xd66924;MsgEvent[_0x3f9d01(0x169)]('onWebRtcIce');if(webRtcPlayerObj)webRtcPlayerObj['handleCandidateFromServer'](_0x144c64);}var styleWidth,styleHeight,styleTop,styleLeft,styleCursor=a0_0xd66924(0x11e),styleAdditional;const ControlSchemeType={'LockedMouse':0x0,'HoveringMouse':0x1};var inputOptions={'controlScheme':ControlSchemeType['LockedMouse'],'suppressBrowserKeys':!![],'fakeMouseWithTouches':![]};function resizePlayerStyleToFillWindow(_0x1e7ea1){const _0x24510a=a0_0xd66924;MsgEvent['func'](_0x24510a(0x17c));let _0x43e2de=_0x1e7ea1[_0x24510a(0x19d)](_0x24510a(0x150)),_0x57206c=window[_0x24510a(0x23a)]/window[_0x24510a(0x1f3)],_0x1cbf69=_0x1e7ea1[_0x24510a(0x1ea)]/_0x1e7ea1['clientWidth'],_0x59cd14=_0x43e2de[_0x24510a(0x183)]/_0x43e2de[_0x24510a(0xdf)];if(isNaN(_0x59cd14))styleWidth=window['innerWidth'],styleHeight=window['innerHeight'],styleTop=0x0,styleLeft=0x0,_0x1e7ea1['style']='top:\x20'+styleTop+_0x24510a(0xc2)+styleLeft+_0x24510a(0x193)+styleWidth+_0x24510a(0x1c4)+styleHeight+_0x24510a(0x1a6)+styleCursor+';\x20'+styleAdditional;else _0x57206c<_0x1cbf69?(styleWidth=Math['floor'](window[_0x24510a(0x23a)]/_0x59cd14),styleHeight=window[_0x24510a(0x23a)],styleTop=0x0,styleLeft=Math['floor']((window['innerWidth']-styleWidth)*0.5),_0x1e7ea1[_0x24510a(0x240)]=_0x24510a(0x265)+styleTop+_0x24510a(0xc2)+styleLeft+_0x24510a(0x193)+styleWidth+'px;\x20height:\x20'+styleHeight+_0x24510a(0x1a6)+styleCursor+';\x20'+styleAdditional):(styleWidth=window['innerWidth'],styleHeight=Math[_0x24510a(0xed)](window[_0x24510a(0x1f3)]*_0x59cd14),styleTop=Math[_0x24510a(0xed)]((window[_0x24510a(0x23a)]-styleHeight)*0.5),styleLeft=0x0,_0x1e7ea1['style']=_0x24510a(0x265)+styleTop+_0x24510a(0xc2)+styleLeft+'px;\x20width:\x20'+styleWidth+'px;\x20height:\x20'+styleHeight+'px;\x20cursor:\x20'+styleCursor+';\x20'+styleAdditional);}function resizePlayerStyleToActualSize(_0x23d3ea){const _0x2c620a=a0_0xd66924;MsgEvent['func'](_0x2c620a(0x226));let _0x5950d5=_0x23d3ea[_0x2c620a(0x19d)](_0x2c620a(0x150));_0x5950d5[_0x2c620a(0x18c)]>0x0&&(styleWidth=_0x5950d5[0x0]['videoWidth'],styleHeight=_0x5950d5[0x0][_0x2c620a(0x183)],styleTop=Math[_0x2c620a(0xed)]((window[_0x2c620a(0x23a)]-styleHeight)*0.5),styleLeft=Math[_0x2c620a(0xed)]((window[_0x2c620a(0x1f3)]-styleWidth)*0.5),_0x23d3ea[_0x2c620a(0x240)]=_0x2c620a(0x265)+styleTop+_0x2c620a(0xc2)+styleLeft+_0x2c620a(0x193)+styleWidth+_0x2c620a(0x1c4)+styleHeight+_0x2c620a(0x1a6)+styleCursor+';\x20'+styleAdditional);}function resizePlayerStyleToArbitrarySize(_0x1bfdaf){const _0x4bc2e3=a0_0xd66924;MsgEvent[_0x4bc2e3(0x169)](_0x4bc2e3(0x23d));let _0x2ba4db=_0x1bfdaf[_0x4bc2e3(0x19d)](_0x4bc2e3(0x150));_0x1bfdaf[_0x4bc2e3(0x240)]=_0x4bc2e3(0xf0)+styleWidth+'px;\x20height:\x20'+styleHeight+'px;\x20cursor:\x20'+styleCursor+';\x20'+styleAdditional;}function setupFreezeFrameOverlay(){const _0x3effbf=a0_0xd66924;MsgEvent[_0x3effbf(0x169)](_0x3effbf(0x1db)),freezeFrameOverlay=document[_0x3effbf(0xd0)](_0x3effbf(0x224)),freezeFrameOverlay['id']=_0x3effbf(0x1a5),freezeFrameOverlay['style'][_0x3effbf(0x180)]=_0x3effbf(0xf8),freezeFrameOverlay[_0x3effbf(0x240)][_0x3effbf(0x184)]=_0x3effbf(0xf8),freezeFrameOverlay[_0x3effbf(0x240)][_0x3effbf(0x195)]=_0x3effbf(0x174),freezeFrameOverlay[_0x3effbf(0x240)][_0x3effbf(0xd3)]='30';}function showFreezeFrameOverlay(){const _0x3c782c=a0_0xd66924;MsgEvent['func'](_0x3c782c(0x249)),freezeFrame[_0x3c782c(0x1de)]&&(freezeFrameOverlay[_0x3c782c(0x240)][_0x3c782c(0x180)]='block');}function invalidateFreezeFrameOverlay(){const _0x2b75b2=a0_0xd66924;MsgEvent[_0x2b75b2(0x169)](_0x2b75b2(0xd4)),freezeFrameOverlay['style'][_0x2b75b2(0x180)]='none',freezeFrame[_0x2b75b2(0x1de)]=![];}function resizeFreezeFrameOverlay(){const _0x576646=a0_0xd66924;MsgEvent[_0x576646(0x169)](_0x576646(0x12c));if(freezeFrame[_0x576646(0x114)]!==0x0&&freezeFrame['height']!==0x0){let _0xdb8572=0x0,_0x1a8acb=0x0,_0x487ac8=0x0,_0x1c8a7a=0x0,_0x17a1db=document[_0x576646(0x255)]('enlarge-display-to-fill-window-tgl');if(_0x17a1db!==null&&_0x17a1db[_0x576646(0x118)]){let _0x5ba279=window[_0x576646(0x1f3)]/window[_0x576646(0x23a)],_0x397c65=freezeFrame[_0x576646(0x114)]/freezeFrame['height'];_0x5ba279<_0x397c65?(_0xdb8572=window[_0x576646(0x1f3)],_0x1a8acb=Math['floor'](window['innerWidth']/_0x397c65),_0x487ac8=Math[_0x576646(0xed)]((window[_0x576646(0x23a)]-_0x1a8acb)*0.5),_0x1c8a7a=0x0):(_0xdb8572=Math[_0x576646(0xed)](window[_0x576646(0x23a)]*_0x397c65),_0x1a8acb=window['innerHeight'],_0x487ac8=0x0,_0x1c8a7a=Math[_0x576646(0xed)]((window[_0x576646(0x1f3)]-_0xdb8572)*0.5));}else _0xdb8572=freezeFrame['width'],_0x1a8acb=freezeFrame[_0x576646(0x117)],_0x487ac8=0x0,_0x1c8a7a=0x0;freezeFrameOverlay[_0x576646(0x240)][_0x576646(0x114)]=_0xdb8572+'px',freezeFrameOverlay[_0x576646(0x240)][_0x576646(0x117)]=_0x1a8acb+'px',freezeFrameOverlay['style']['left']=_0x1c8a7a+'px',freezeFrameOverlay[_0x576646(0x240)][_0x576646(0x21a)]=_0x487ac8+'px';}}function resizePlayerStyle(_0x35488f){const _0x46dc75=a0_0xd66924;MsgEvent[_0x46dc75(0x169)](_0x46dc75(0xc8));var _0x4426ca=document[_0x46dc75(0x255)](_0x46dc75(0x105));if(!_0x4426ca)return;updateVideoStreamSize();if(_0x4426ca[_0x46dc75(0xc0)][_0x46dc75(0x109)](_0x46dc75(0x232))){setupMouseAndFreezeFrame(_0x4426ca);return;}let _0x111515=document['getElementById'](_0x46dc75(0x28a)),_0x23d505=window['innerWidth']<_0x4426ca['videoWidth']||window['innerHeight']<_0x4426ca[_0x46dc75(0x183)];_0x111515!==null?_0x111515['checked']||_0x23d505?resizePlayerStyleToFillWindow(_0x4426ca):resizePlayerStyleToActualSize(_0x4426ca):resizePlayerStyleToArbitrarySize(_0x4426ca),setupMouseAndFreezeFrame(_0x4426ca);}function setupMouseAndFreezeFrame(_0x32f2ea){const _0x4d8061=a0_0xd66924;MsgEvent[_0x4d8061(0x169)](_0x4d8061(0x21c)),playerElementClientRect=_0x32f2ea[_0x4d8061(0x1fd)](),setupNormalizeAndQuantize(),resizeFreezeFrameOverlay();}function updateVideoStreamSize(){const _0x3e999c=a0_0xd66924;MsgEvent[_0x3e999c(0x169)](_0x3e999c(0x10b));if(!matchViewportResolution)return;var _0xca2c72=new Date()['getTime']();if(_0xca2c72-lastTimeResized>0x3e8){var _0x2e569e=document[_0x3e999c(0x255)](_0x3e999c(0x105));if(!_0x2e569e)return;let _0x897cc3={'Console':_0x3e999c(0x252)+_0x2e569e[_0x3e999c(0x1ce)]+'x'+_0x2e569e[_0x3e999c(0x1ea)]};emitUIInteraction(_0x897cc3),MsgEvent[_0x3e999c(0xe3)](_0x897cc3),lastTimeResized=new Date()[_0x3e999c(0x162)]();}else MsgEvent[_0x3e999c(0xe3)](_0x3e999c(0x159)),clearTimeout(resizeTimeout),resizeTimeout=setTimeout(updateVideoStreamSize,0x3e8);}var _orientationChangeTimeout;function onOrientationChange(_0x4ca9d9){const _0x31b4ec=a0_0xd66924;MsgEvent[_0x31b4ec(0x169)]('onOrientationChange'),clearTimeout(_orientationChangeTimeout),_orientationChangeTimeout=setTimeout(function(){resizePlayerStyle();},0x1f4);}const MessageType={'IFrameRequest':0x0,'RequestQualityControl':0x1,'MaxFpsRequest':0x2,'AverageBitrateRequest':0x3,'StartStreaming':0x4,'StopStreaming':0x5,'LatencyTest':0x6,'RequestInitialSettings':0x7,'UIInteraction':0x32,'Command':0x33,'KeyDown':0x3c,'KeyUp':0x3d,'KeyPress':0x3e,'MouseEnter':0x46,'MouseLeave':0x47,'MouseDown':0x48,'MouseUp':0x49,'MouseMove':0x4a,'MouseWheel':0x4b,'TouchStart':0x50,'TouchEnd':0x51,'TouchMove':0x52};function emitDescriptor(_0x23d975,_0x8e7de9){const _0x1d2e1f=a0_0xd66924;MsgEvent[_0x1d2e1f(0x169)]('emitDescriptor');let _0x1f20a0=JSON[_0x1d2e1f(0x21f)](_0x8e7de9),_0x1a5801=new DataView(new ArrayBuffer(0x1+0x2+0x2*_0x1f20a0[_0x1d2e1f(0x18c)])),_0x141afd=0x0;_0x1a5801[_0x1d2e1f(0xec)](_0x141afd,_0x23d975),_0x141afd++,_0x1a5801['setUint16'](_0x141afd,_0x1f20a0[_0x1d2e1f(0x18c)],!![]),_0x141afd+=0x2;for(let _0xa94c8d=0x0;_0xa94c8d<_0x1f20a0[_0x1d2e1f(0x18c)];_0xa94c8d++){_0x1a5801[_0x1d2e1f(0x1d0)](_0x141afd,_0x1f20a0[_0x1d2e1f(0xea)](_0xa94c8d),!![]),_0x141afd+=0x2;}sendInputData(_0x1a5801[_0x1d2e1f(0x204)]);}function emitUIInteraction(_0xd9a76a){const _0x2e5c40=a0_0xd66924;MsgEvent[_0x2e5c40(0x169)](_0x2e5c40(0x1dd),_0xd9a76a),emitDescriptor(MessageType['UIInteraction'],_0xd9a76a);}function emitCommand(_0x34ff87){const _0xc2e925=a0_0xd66924;MsgEvent['func'](_0xc2e925(0x1ff)),emitDescriptor(MessageType[_0xc2e925(0x16f)],_0x34ff87);}function requestInitialSettings(){const _0x3bc94c=a0_0xd66924;MsgEvent[_0x3bc94c(0x169)](_0x3bc94c(0x208)),sendInputData(new Uint8Array([MessageType['RequestInitialSettings']])['buffer']);}function requestQualityControl(){const _0x348e8b=a0_0xd66924;MsgEvent[_0x348e8b(0x169)](_0x348e8b(0x192)),sendInputData(new Uint8Array([MessageType[_0x348e8b(0x200)]])[_0x348e8b(0x204)]);}var playerElementClientRect=undefined,normalizeAndQuantizeUnsigned=undefined,normalizeAndQuantizeSigned=undefined;function setupNormalizeAndQuantize(){const _0x4d503c=a0_0xd66924;MsgEvent['func'](_0x4d503c(0x231));let _0x34c2e6=document[_0x4d503c(0x255)]('player'),_0x33eca2=_0x34c2e6[_0x4d503c(0x19d)](_0x4d503c(0xfb));if(_0x34c2e6&&_0x33eca2[_0x4d503c(0x18c)]>0x0){let _0x9ebcc9=_0x34c2e6[_0x4d503c(0x1ea)]/_0x34c2e6[_0x4d503c(0x1ce)],_0x411e36=_0x33eca2[0x0][_0x4d503c(0x183)]/_0x33eca2[0x0][_0x4d503c(0xdf)];if(_0x9ebcc9>_0x411e36){print_inputs&&MsgEvent[_0x4d503c(0xe3)](_0x4d503c(0xfd));let _0x54b816=_0x9ebcc9/_0x411e36;normalizeAndQuantizeUnsigned=(_0x2cd2ce,_0x1a135c)=>{const _0x5f44bb=_0x4d503c;let _0x6cbf4=_0x2cd2ce/_0x34c2e6[_0x5f44bb(0x1ce)],_0x2517ff=_0x54b816*(_0x1a135c/_0x34c2e6[_0x5f44bb(0x1ea)]-0.5)+0.5;return _0x6cbf4<0x0||_0x6cbf4>0x1||_0x2517ff<0x0||_0x2517ff>0x1?{'inRange':![],'x':0xffff,'y':0xffff}:{'inRange':!![],'x':_0x6cbf4*0x10000,'y':_0x2517ff*0x10000};},unquantizeAndDenormalizeUnsigned=(_0x3b7e9e,_0x35cef0)=>{const _0x3020c8=_0x4d503c;let _0x8286ed=_0x3b7e9e/0x10000,_0xed30da=(_0x35cef0/0x10000-0.5)/_0x54b816+0.5;return{'x':_0x8286ed*_0x34c2e6['clientWidth'],'y':_0xed30da*_0x34c2e6[_0x3020c8(0x1ea)]};},normalizeAndQuantizeSigned=(_0x454e9c,_0x1f9b2d)=>{const _0x51a895=_0x4d503c;let _0x2eb261=_0x454e9c/(0.5*_0x34c2e6['clientWidth']),_0x5eb21f=_0x54b816*_0x1f9b2d/(0.5*_0x34c2e6[_0x51a895(0x1ea)]);return{'x':_0x2eb261*0x7fff,'y':_0x5eb21f*0x7fff};};}else{print_inputs&&MsgEvent[_0x4d503c(0xe3)](_0x4d503c(0x254));let _0x4bea02=_0x411e36/_0x9ebcc9;normalizeAndQuantizeUnsigned=(_0x5c2d2a,_0x26895c)=>{const _0x5c3a4f=_0x4d503c;let _0x47e127=_0x4bea02*(_0x5c2d2a/_0x34c2e6[_0x5c3a4f(0x1ce)]-0.5)+0.5,_0x1d4ec1=_0x26895c/_0x34c2e6[_0x5c3a4f(0x1ea)];return _0x47e127<0x0||_0x47e127>0x1||_0x1d4ec1<0x0||_0x1d4ec1>0x1?{'inRange':![],'x':0xffff,'y':0xffff}:{'inRange':!![],'x':_0x47e127*0x10000,'y':_0x1d4ec1*0x10000};},unquantizeAndDenormalizeUnsigned=(_0xacea14,_0x4ce65a)=>{let _0x4c96a5=(_0xacea14/0x10000-0.5)/_0x4bea02+0.5,_0x174d1c=_0x4ce65a/0x10000;return{'x':_0x4c96a5*_0x34c2e6['clientWidth'],'y':_0x174d1c*_0x34c2e6['clientHeight']};},normalizeAndQuantizeSigned=(_0x28f7c8,_0x3aabd6)=>{const _0x223a78=_0x4d503c;let _0x4c58d0=_0x4bea02*_0x28f7c8/(0.5*_0x34c2e6[_0x223a78(0x1ce)]),_0x319908=_0x3aabd6/(0.5*_0x34c2e6[_0x223a78(0x1ea)]);return{'x':_0x4c58d0*0x7fff,'y':_0x319908*0x7fff};};}}}function emitMouseMove(_0x4eeb33,_0x2a629d,_0xe93815,_0x478ee7){const _0x36119c=a0_0xd66924;print_inputs&&MsgEvent['log'](_0x36119c(0x1e7)+_0x4eeb33+_0x36119c(0x160)+_0x2a629d+',\x20dX:\x20'+_0xe93815+_0x36119c(0x276)+_0x478ee7);let _0x773704=normalizeAndQuantizeUnsigned(_0x4eeb33,_0x2a629d),_0x4380f7=normalizeAndQuantizeSigned(_0xe93815,_0x478ee7);var _0x2af6cf=new DataView(new ArrayBuffer(0x9));_0x2af6cf[_0x36119c(0xec)](0x0,MessageType[_0x36119c(0x1e2)]),_0x2af6cf[_0x36119c(0x1d0)](0x1,_0x773704['x'],!![]),_0x2af6cf[_0x36119c(0x1d0)](0x3,_0x773704['y'],!![]),_0x2af6cf[_0x36119c(0x147)](0x5,_0x4380f7['x'],!![]),_0x2af6cf[_0x36119c(0x147)](0x7,_0x4380f7['y'],!![]),sendInputData(_0x2af6cf['buffer']);}function emitMouseDown(_0x2c2aa1,_0xdeb95f,_0x4c516f){const _0x24e132=a0_0xd66924;print_inputs&&MsgEvent[_0x24e132(0xe3)](_0x24e132(0x213)+_0x2c2aa1+_0x24e132(0xf5)+_0xdeb95f+',\x20'+_0x4c516f+')');let _0x54f4a2=normalizeAndQuantizeUnsigned(_0xdeb95f,_0x4c516f);var _0x109c17=new DataView(new ArrayBuffer(0x6));_0x109c17[_0x24e132(0xec)](0x0,MessageType[_0x24e132(0x1c0)]),_0x109c17['setUint8'](0x1,_0x2c2aa1),_0x109c17[_0x24e132(0x1d0)](0x2,_0x54f4a2['x'],!![]),_0x109c17[_0x24e132(0x1d0)](0x4,_0x54f4a2['y'],!![]),sendInputData(_0x109c17[_0x24e132(0x204)]);}function a0_0x1608(_0x47df34,_0x512106){const _0xb84902=a0_0xb849();return a0_0x1608=function(_0x1608d2,_0x3ec5e3){_0x1608d2=_0x1608d2-0xbe;let _0x570020=_0xb84902[_0x1608d2];return _0x570020;},a0_0x1608(_0x47df34,_0x512106);}function emitMouseUp(_0x4d0634,_0x56eebf,_0x511b07){const _0x4acc88=a0_0xd66924;print_inputs&&MsgEvent[_0x4acc88(0xe3)](_0x4acc88(0x213)+_0x4d0634+_0x4acc88(0x155)+_0x56eebf+',\x20'+_0x511b07+')');let _0x48fd55=normalizeAndQuantizeUnsigned(_0x56eebf,_0x511b07);var _0x3916dd=new DataView(new ArrayBuffer(0x6));_0x3916dd[_0x4acc88(0xec)](0x0,MessageType['MouseUp']),_0x3916dd[_0x4acc88(0xec)](0x1,_0x4d0634),_0x3916dd['setUint16'](0x2,_0x48fd55['x'],!![]),_0x3916dd['setUint16'](0x4,_0x48fd55['y'],!![]),sendInputData(_0x3916dd[_0x4acc88(0x204)]);}function emitMouseWheel(_0x4af7e9,_0x3a7002,_0x2a3450){const _0x489032=a0_0xd66924;print_inputs&&MsgEvent['log'](_0x489032(0x26f)+_0x4af7e9+_0x489032(0xeb)+_0x3a7002+',\x20'+_0x2a3450+')');let _0x348baa=normalizeAndQuantizeUnsigned(_0x3a7002,_0x2a3450);var _0x217a66=new DataView(new ArrayBuffer(0x7));_0x217a66[_0x489032(0xec)](0x0,MessageType['MouseWheel']),_0x217a66['setInt16'](0x1,_0x4af7e9,!![]),_0x217a66[_0x489032(0x1d0)](0x3,_0x348baa['x'],!![]),_0x217a66[_0x489032(0x1d0)](0x5,_0x348baa['y'],!![]),sendInputData(_0x217a66[_0x489032(0x204)]);}const MouseButton={'MainButton':0x0,'AuxiliaryButton':0x1,'SecondaryButton':0x2,'FourthButton':0x3,'FifthButton':0x4},MouseButtonsMask={'PrimaryButton':0x1,'SecondaryButton':0x2,'AuxiliaryButton':0x4,'FourthButton':0x8,'FifthButton':0x10};function releaseMouseButtons(_0x42e03e,_0x1b02c2,_0x17137d){const _0x61dfaf=a0_0xd66924;_0x42e03e&MouseButtonsMask[_0x61dfaf(0x138)]&&emitMouseUp(MouseButton[_0x61dfaf(0x1a4)],_0x1b02c2,_0x17137d),_0x42e03e&MouseButtonsMask['SecondaryButton']&&emitMouseUp(MouseButton[_0x61dfaf(0x207)],_0x1b02c2,_0x17137d),_0x42e03e&MouseButtonsMask[_0x61dfaf(0x288)]&&emitMouseUp(MouseButton[_0x61dfaf(0x288)],_0x1b02c2,_0x17137d),_0x42e03e&MouseButtonsMask[_0x61dfaf(0x111)]&&emitMouseUp(MouseButton[_0x61dfaf(0x111)],_0x1b02c2,_0x17137d),_0x42e03e&MouseButtonsMask['FifthButton']&&emitMouseUp(MouseButton['FifthButton'],_0x1b02c2,_0x17137d);}function pressMouseButtons(_0x189b71,_0x4c2561,_0x4c0cba){const _0x220103=a0_0xd66924;_0x189b71&MouseButtonsMask[_0x220103(0x138)]&&emitMouseDown(MouseButton['MainButton'],_0x4c2561,_0x4c0cba),_0x189b71&MouseButtonsMask[_0x220103(0x207)]&&emitMouseDown(MouseButton[_0x220103(0x207)],_0x4c2561,_0x4c0cba),_0x189b71&MouseButtonsMask[_0x220103(0x288)]&&emitMouseDown(MouseButton[_0x220103(0x288)],_0x4c2561,_0x4c0cba),_0x189b71&MouseButtonsMask[_0x220103(0x111)]&&emitMouseDown(MouseButton[_0x220103(0x111)],_0x4c2561,_0x4c0cba),_0x189b71&MouseButtonsMask['FifthButton']&&emitMouseDown(MouseButton[_0x220103(0x19f)],_0x4c2561,_0x4c0cba);}function registerInputs(_0x27a2e5){const _0x3ad844=a0_0xd66924;MsgEvent[_0x3ad844(0x169)](_0x3ad844(0xd8));if(!_0x27a2e5)return;registerMouseEnterAndLeaveEvents(_0x27a2e5),registerTouchEvents(_0x27a2e5);}function createOnScreenKeyboardHelpers(_0x5623b4){const _0x1f2b70=a0_0xd66924;MsgEvent[_0x1f2b70(0x169)](_0x1f2b70(0x260)),document[_0x1f2b70(0x255)](_0x1f2b70(0x181))===null&&(hiddenInput=document[_0x1f2b70(0xd0)](_0x1f2b70(0x272)),hiddenInput['id']=_0x1f2b70(0x181),hiddenInput['maxLength']=0x0,_0x5623b4[_0x1f2b70(0xda)](hiddenInput)),document[_0x1f2b70(0x255)]('editTextButton')===null&&(editTextButton=document[_0x1f2b70(0xd0)](_0x1f2b70(0x125)),editTextButton['id']='editTextButton',editTextButton['innerHTML']=_0x1f2b70(0x1fa),_0x5623b4[_0x1f2b70(0xda)](editTextButton),editTextButton[_0x1f2b70(0xc0)][_0x1f2b70(0x134)](_0x1f2b70(0x257)),editTextButton['addEventListener'](_0x1f2b70(0x177),function(){hiddenInput['focus']();}));}function showOnScreenKeyboard(_0x9856e){const _0x5086ea=a0_0xd66924;MsgEvent[_0x5086ea(0x169)]('showOnScreenKeyboard');if(_0x9856e[_0x5086ea(0x1c8)]){editTextButton[_0x5086ea(0xc0)]['remove'](_0x5086ea(0x257));let _0x1fe4a2=unquantizeAndDenormalizeUnsigned(_0x9856e['x'],_0x9856e['y']);editTextButton[_0x5086ea(0x240)][_0x5086ea(0x21a)]=_0x1fe4a2['y']['toString']()+'px',editTextButton['style'][_0x5086ea(0xf6)]=(_0x1fe4a2['x']-0x28)['toString']()+'px';}else editTextButton[_0x5086ea(0xc0)][_0x5086ea(0x134)](_0x5086ea(0x257)),hiddenInput[_0x5086ea(0x205)]();}function registerMouseEnterAndLeaveEvents(_0x552370){_0x552370['onmouseenter']=function(_0x47721e){const _0x4d7fc6=a0_0x1608;print_inputs&&MsgEvent[_0x4d7fc6(0xe3)](_0x4d7fc6(0x1ba));var _0x1fedda=new DataView(new ArrayBuffer(0x1));_0x1fedda[_0x4d7fc6(0xec)](0x0,MessageType[_0x4d7fc6(0x17a)]),sendInputData(_0x1fedda['buffer']),_0x552370['pressMouseButtons'](_0x47721e);},_0x552370['onmouseleave']=function(_0x1fb80a){const _0x495cc7=a0_0x1608;print_inputs&&MsgEvent[_0x495cc7(0xe3)](_0x495cc7(0x115));var _0x13005f=new DataView(new ArrayBuffer(0x1));_0x13005f[_0x495cc7(0xec)](0x0,MessageType[_0x495cc7(0x1ca)]),sendInputData(_0x13005f['buffer']),_0x552370['releaseMouseButtons'](_0x1fb80a);};}function registerLockedMouseEvents(_0x83ea10){const _0xa7e028=a0_0xd66924;var _0x4da93c=_0x83ea10[_0xa7e028(0x114)]/0x2,_0x206e11=_0x83ea10['height']/0x2;_0x83ea10[_0xa7e028(0x22f)]=_0x83ea10[_0xa7e028(0x22f)]||_0x83ea10[_0xa7e028(0x17f)],document['exitPointerLock']=document['exitPointerLock']||document[_0xa7e028(0x1cf)],_0x83ea10['onclick']=function(){const _0x414fa3=_0xa7e028;_0x83ea10[_0x414fa3(0x22f)]();},document[_0xa7e028(0x1f1)](_0xa7e028(0x20e),_0x252de0,![]),document[_0xa7e028(0x1f1)](_0xa7e028(0x262),_0x252de0,![]);function _0x252de0(){const _0x154d51=_0xa7e028;document[_0x154d51(0x172)]===_0x83ea10||document[_0x154d51(0xe4)]===_0x83ea10?(MsgEvent[_0x154d51(0xe3)](_0x154d51(0x291)),document[_0x154d51(0x1f1)](_0x154d51(0x1a0),_0x26fd32,![])):(MsgEvent['log'](_0x154d51(0x1d1)),document[_0x154d51(0xf4)]('mousemove',_0x26fd32,![]));}function _0x26fd32(_0x40f155){const _0x272d13=_0xa7e028;_0x4da93c+=_0x40f155['movementX'],_0x206e11+=_0x40f155[_0x272d13(0x25c)],_0x4da93c>styleWidth&&(_0x4da93c-=styleWidth),_0x206e11>styleHeight&&(_0x206e11-=styleHeight),_0x4da93c<0x0&&(_0x4da93c=styleWidth+_0x4da93c),_0x206e11<0x0&&(_0x206e11=styleHeight-_0x206e11),emitMouseMove(_0x4da93c,_0x206e11,_0x40f155['movementX'],_0x40f155[_0x272d13(0x25c)]);}_0x83ea10[_0xa7e028(0x15d)]=function(_0x345ff4){const _0x21eb8a=_0xa7e028;emitMouseDown(_0x345ff4[_0x21eb8a(0x125)],_0x4da93c,_0x206e11);},_0x83ea10[_0xa7e028(0x15c)]=function(_0x160362){const _0x2a5017=_0xa7e028;emitMouseUp(_0x160362[_0x2a5017(0x125)],_0x4da93c,_0x206e11);},_0x83ea10['onmousewheel']=function(_0x1368ad){emitMouseWheel(_0x1368ad['wheelDelta'],_0x4da93c,_0x206e11);},_0x83ea10[_0xa7e028(0x148)]=function(_0x535442){const _0x36f79e=_0xa7e028;pressMouseButtons(_0x535442[_0x36f79e(0xe1)],_0x4da93c,_0x206e11);},_0x83ea10[_0xa7e028(0xfa)]=function(_0x57f729){releaseMouseButtons(_0x57f729['buttons'],_0x4da93c,_0x206e11);};}function registerHoveringMouseEvents(_0x9e029c){const _0x53df46=a0_0xd66924;MsgEvent[_0x53df46(0x169)](_0x53df46(0xd7)),styleCursor=APP[_0x53df46(0x266)],_0x9e029c[_0x53df46(0x153)]=function(_0x4446c8){const _0x5918cd=_0x53df46;APP['events'][_0x5918cd(0x188)](),emitMouseMove(_0x4446c8['offsetX'],_0x4446c8[_0x5918cd(0x1ac)],_0x4446c8[_0x5918cd(0x236)],_0x4446c8[_0x5918cd(0x25c)]),_0x4446c8['preventDefault']();},_0x9e029c[_0x53df46(0x15d)]=function(_0x2afcbf){const _0x20126b=_0x53df46;APP[_0x20126b(0xcd)][_0x20126b(0x243)](!![]),emitMouseDown(_0x2afcbf[_0x20126b(0x125)],_0x2afcbf['offsetX'],_0x2afcbf[_0x20126b(0x1ac)]),_0x2afcbf['preventDefault']();},_0x9e029c['onmouseup']=function(_0x3c625a){const _0x14be2f=_0x53df46;APP[_0x14be2f(0xcd)][_0x14be2f(0x243)](![]),emitMouseUp(_0x3c625a[_0x14be2f(0x125)],_0x3c625a[_0x14be2f(0x1c6)],_0x3c625a[_0x14be2f(0x1ac)]),_0x3c625a[_0x14be2f(0x203)]();},_0x9e029c[_0x53df46(0x154)]=function(_0x42f326){const _0x336095=_0x53df46;emitMouseUp(_0x42f326[_0x336095(0x125)],_0x42f326[_0x336095(0x1c6)],_0x42f326[_0x336095(0x1ac)]),_0x42f326['preventDefault']();},_0x53df46(0x292)in _0x9e029c?_0x9e029c[_0x53df46(0x292)]=function(_0x1236be){const _0xead513=_0x53df46;emitMouseWheel(_0x1236be[_0xead513(0x1d2)],_0x1236be[_0xead513(0x1c6)],_0x1236be['offsetY']),_0x1236be[_0xead513(0x203)]();}:_0x9e029c[_0x53df46(0x1f1)](_0x53df46(0x136),function(_0x20a7f5){const _0x3e58d8=_0x53df46;emitMouseWheel(_0x20a7f5[_0x3e58d8(0x1aa)]*-0x78,_0x20a7f5[_0x3e58d8(0x1c6)],_0x20a7f5[_0x3e58d8(0x1ac)]),_0x20a7f5[_0x3e58d8(0x203)]();},![]),_0x9e029c[_0x53df46(0x148)]=function(_0x40160d){const _0xeb8d9f=_0x53df46;pressMouseButtons(_0x40160d['buttons'],_0x40160d['offsetX'],_0x40160d[_0xeb8d9f(0x1ac)]);},_0x9e029c['releaseMouseButtons']=function(_0xe56b72){const _0x193e6d=_0x53df46;releaseMouseButtons(_0xe56b72[_0x193e6d(0xe1)],_0xe56b72['offsetX'],_0xe56b72['offsetY']);};}function registerTouchEvents(_0x22d12f){const _0x281dfc=a0_0xd66924;MsgEvent['func'](_0x281dfc(0x1b7));var _0x2e395f=[0x9,0x8,0x7,0x6,0x5,0x4,0x3,0x2,0x1,0x0],_0x5a8761={};function _0x49194b(_0x1b98fc){const _0x4b2139=_0x281dfc;MsgEvent[_0x4b2139(0x169)](_0x4b2139(0x1f0));let _0x5ae0a9=_0x2e395f[_0x4b2139(0x156)]();_0x5ae0a9===undefined&&MsgEvent[_0x4b2139(0xe3)](_0x4b2139(0x239)),_0x5a8761[_0x1b98fc[_0x4b2139(0x10d)]]=_0x5ae0a9;}function _0x5c2ace(_0x45d235){const _0x17ba01=_0x281dfc;MsgEvent[_0x17ba01(0x169)](_0x17ba01(0x23f)),_0x2e395f[_0x17ba01(0x1d4)](_0x5a8761[_0x45d235['identifier']]),delete _0x5a8761[_0x45d235['identifier']];}function _0x216f89(_0x5df2b4,_0x37fa19){const _0x6a819b=_0x281dfc;MsgEvent[_0x6a819b(0x169)](_0x6a819b(0x108));let _0x53ebeb=new DataView(new ArrayBuffer(0x2+0x6*_0x37fa19[_0x6a819b(0x18c)]));_0x53ebeb[_0x6a819b(0xec)](0x0,_0x5df2b4),_0x53ebeb[_0x6a819b(0xec)](0x1,_0x37fa19['length']);let _0x573b65=0x2;for(let _0x3c95bf=0x0;_0x3c95bf<_0x37fa19[_0x6a819b(0x18c)];_0x3c95bf++){let _0x336db7=_0x37fa19[_0x3c95bf],_0x22ff19=_0x336db7['clientX']-_0x22d12f[_0x6a819b(0x13f)],_0x12e1ae=_0x336db7[_0x6a819b(0x173)]-_0x22d12f['offsetTop'];print_inputs&&MsgEvent['log']('F'+_0x5a8761[_0x336db7[_0x6a819b(0x10d)]]+'=('+_0x22ff19+',\x20'+_0x12e1ae+')');let _0x5ebccd=normalizeAndQuantizeUnsigned(_0x22ff19,_0x12e1ae);_0x53ebeb[_0x6a819b(0x1d0)](_0x573b65,_0x5ebccd['x'],!![]),_0x573b65+=0x2,_0x53ebeb[_0x6a819b(0x1d0)](_0x573b65,_0x5ebccd['y'],!![]),_0x573b65+=0x2,_0x53ebeb[_0x6a819b(0xec)](_0x573b65,_0x5a8761[_0x336db7[_0x6a819b(0x10d)]],!![]),_0x573b65+=0x1,_0x53ebeb['setUint8'](_0x573b65,0xff*_0x336db7[_0x6a819b(0x170)],!![]),_0x573b65+=0x1;}sendInputData(_0x53ebeb['buffer']);}if(inputOptions['fakeMouseWithTouches']){var _0x311fcc=undefined;_0x22d12f['ontouchstart']=function(_0x390219){const _0x165f6d=_0x281dfc;if(_0x311fcc===undefined){let _0x136e0a=_0x390219[_0x165f6d(0x167)][0x0];_0x311fcc={'id':_0x136e0a['identifier'],'x':_0x136e0a['clientX']-playerElementClientRect[_0x165f6d(0xf6)],'y':_0x136e0a[_0x165f6d(0x173)]-playerElementClientRect[_0x165f6d(0x21a)]},_0x22d12f[_0x165f6d(0x18d)](_0x390219),emitMouseDown(MouseButton['MainButton'],_0x311fcc['x'],_0x311fcc['y']);}_0x390219['preventDefault']();},_0x22d12f[_0x281dfc(0x16c)]=function(_0x3c8eff){const _0x428d49=_0x281dfc;for(let _0x18cddc=0x0;_0x18cddc<_0x3c8eff['changedTouches']['length'];_0x18cddc++){let _0x314505=_0x3c8eff[_0x428d49(0x167)][_0x18cddc];if(_0x314505['identifier']===_0x311fcc['id']){let _0x23ef77=_0x314505[_0x428d49(0x141)]-playerElementClientRect[_0x428d49(0xf6)],_0x2ccc1b=_0x314505[_0x428d49(0x173)]-playerElementClientRect[_0x428d49(0x21a)];emitMouseUp(MouseButton[_0x428d49(0x1a4)],_0x23ef77,_0x2ccc1b),_0x22d12f[_0x428d49(0x18b)](_0x3c8eff),_0x311fcc=undefined;break;}}_0x3c8eff[_0x428d49(0x203)]();},_0x22d12f[_0x281dfc(0x27b)]=function(_0x11dd91){const _0x24d9b=_0x281dfc;for(let _0x49ab2d=0x0;_0x49ab2d<_0x11dd91[_0x24d9b(0x270)][_0x24d9b(0x18c)];_0x49ab2d++){let _0x51a5e1=_0x11dd91[_0x24d9b(0x270)][_0x49ab2d];if(_0x51a5e1[_0x24d9b(0x10d)]===_0x311fcc['id']){let _0x2167b5=_0x51a5e1[_0x24d9b(0x141)]-playerElementClientRect[_0x24d9b(0xf6)],_0xa68d04=_0x51a5e1[_0x24d9b(0x173)]-playerElementClientRect[_0x24d9b(0x21a)];emitMouseMove(_0x2167b5,_0xa68d04,_0x2167b5-_0x311fcc['x'],_0xa68d04-_0x311fcc['y']),_0x311fcc['x']=_0x2167b5,_0x311fcc['y']=_0xa68d04;break;}}_0x11dd91[_0x24d9b(0x203)]();};}else _0x22d12f[_0x281dfc(0x13a)]=function(_0x58cb20){const _0x406097=_0x281dfc;for(let _0x31306f=0x0;_0x31306f<_0x58cb20[_0x406097(0x167)]['length'];_0x31306f++){_0x49194b(_0x58cb20['changedTouches'][_0x31306f]);}print_inputs&&MsgEvent['log']('touch\x20start'),_0x216f89(MessageType[_0x406097(0x206)],_0x58cb20[_0x406097(0x167)]),_0x58cb20[_0x406097(0x203)]();},_0x22d12f[_0x281dfc(0x16c)]=function(_0x29f488){const _0x38c3d5=_0x281dfc;print_inputs&&MsgEvent[_0x38c3d5(0xe3)]('touch\x20end');_0x216f89(MessageType[_0x38c3d5(0x1df)],_0x29f488['changedTouches']);for(let _0x4d8d1d=0x0;_0x4d8d1d<_0x29f488[_0x38c3d5(0x167)][_0x38c3d5(0x18c)];_0x4d8d1d++){_0x5c2ace(_0x29f488[_0x38c3d5(0x167)][_0x4d8d1d]);}_0x29f488[_0x38c3d5(0x203)]();},_0x22d12f[_0x281dfc(0x27b)]=function(_0x2e75fd){const _0x3c3e72=_0x281dfc;print_inputs&&MsgEvent['log'](_0x3c3e72(0xcc)),_0x216f89(MessageType['TouchMove'],_0x2e75fd[_0x3c3e72(0x270)]),_0x2e75fd[_0x3c3e72(0x203)]();};}function isKeyCodeBrowserKey(_0x3e3041){const _0x1684e0=a0_0xd66924;return MsgEvent[_0x1684e0(0x169)](_0x1684e0(0x144)),_0x3e3041>=0x70&&_0x3e3041<=0x7b||_0x3e3041===0x9;}const SpecialKeyCodes={'BackSpace':0x8,'Shift':0x10,'Control':0x11,'Alt':0x12,'RightShift':0xfd,'RightControl':0xfe,'RightAlt':0xff};function getKeyCode(_0x1d6a67){const _0x118b1a=a0_0xd66924;if(_0x1d6a67[_0x118b1a(0x129)]===SpecialKeyCodes[_0x118b1a(0x185)]&&_0x1d6a67[_0x118b1a(0x210)]===_0x118b1a(0x191))return SpecialKeyCodes[_0x118b1a(0x149)];else{if(_0x1d6a67['keyCode']===SpecialKeyCodes[_0x118b1a(0x143)]&&_0x1d6a67[_0x118b1a(0x210)]==='ControlRight')return SpecialKeyCodes['RightControl'];else{if(_0x1d6a67[_0x118b1a(0x129)]===SpecialKeyCodes['Alt']&&_0x1d6a67[_0x118b1a(0x210)]===_0x118b1a(0x1ef))return SpecialKeyCodes['RightAlt'];else return _0x1d6a67[_0x118b1a(0x129)];}}}function registerKeyboardEvents(){const _0x3f9113=a0_0xd66924;MsgEvent['func'](_0x3f9113(0x11a)),document['onkeydown']=function(_0x3b7f0e){const _0x6cd0e8=_0x3f9113;print_inputs&&MsgEvent[_0x6cd0e8(0xe3)]('key\x20down\x20'+_0x3b7f0e[_0x6cd0e8(0x129)]+',\x20repeat\x20=\x20'+_0x3b7f0e[_0x6cd0e8(0x12b)]),sendInputData(new Uint8Array([MessageType[_0x6cd0e8(0xd6)],getKeyCode(_0x3b7f0e),_0x3b7f0e[_0x6cd0e8(0x12b)]])[_0x6cd0e8(0x204)]),_0x3b7f0e['keyCode']===SpecialKeyCodes[_0x6cd0e8(0x259)]&&document[_0x6cd0e8(0x1da)]({'charCode':SpecialKeyCodes['BackSpace']}),inputOptions['suppressBrowserKeys']&&isKeyCodeBrowserKey(_0x3b7f0e[_0x6cd0e8(0x129)])&&_0x3b7f0e[_0x6cd0e8(0x203)]();},document[_0x3f9113(0x28c)]=function(_0x1330f8){const _0x159493=_0x3f9113;print_inputs&&MsgEvent[_0x159493(0xe3)](_0x159493(0xde)+_0x1330f8[_0x159493(0x129)]),sendInputData(new Uint8Array([MessageType[_0x159493(0x139)],getKeyCode(_0x1330f8)])[_0x159493(0x204)]),inputOptions[_0x159493(0xe5)]&&isKeyCodeBrowserKey(_0x1330f8[_0x159493(0x129)])&&_0x1330f8[_0x159493(0x203)]();},document['onkeypress']=function(_0x2b91f9){const _0x4a6eaf=_0x3f9113;print_inputs&&MsgEvent[_0x4a6eaf(0xe3)](_0x4a6eaf(0x18e)+_0x2b91f9['charCode']);let _0x406e09=new DataView(new ArrayBuffer(0x3));_0x406e09['setUint8'](0x0,MessageType[_0x4a6eaf(0x278)]),_0x406e09[_0x4a6eaf(0x1d0)](0x1,_0x2b91f9[_0x4a6eaf(0x102)],!![]),sendInputData(_0x406e09['buffer']);};}function onExpandOverlay_Click(){const _0x2cb0d4=a0_0xd66924;MsgEvent[_0x2cb0d4(0x169)]('onExpandOverlay_Click');let _0x1badf1=document['getElementById'](_0x2cb0d4(0xe0));_0x1badf1['classList']['toggle'](_0x2cb0d4(0x1cd));}function start(){const _0x179322=a0_0xd66924;MsgEvent['func'](_0x179322(0x16a));let _0x2e5908=document[_0x179322(0x255)]('qualityStatus');_0x2e5908&&(_0x2e5908['className']=_0x179322(0x27c));let _0x352de5=document['getElementById'](_0x179322(0x116));_0x352de5&&(_0x352de5[_0x179322(0x101)]=_0x179322(0x235)),!connect_on_load||is_reconnection?(showConnectOverlay(),invalidateFreezeFrameOverlay(),shouldShowPlayOverlay=!![],resizePlayerStyle()):connect(),updateKickButton(0x0);}function updateKickButton(_0x18cc22){const _0x5bad8d=a0_0xd66924;MsgEvent[_0x5bad8d(0x169)](_0x5bad8d(0x198));var _0x344c52=document[_0x5bad8d(0x255)]('kick-other-players-button');if(_0x344c52)_0x344c52[_0x5bad8d(0x1eb)]=_0x5bad8d(0x287)+_0x18cc22+')';}function connect(){const _0x2bf7d9=a0_0xd66924;MsgEvent[_0x2bf7d9(0x169)](_0x2bf7d9(0x25d)),window[_0x2bf7d9(0x214)]=window['WebSocket']||window[_0x2bf7d9(0x22c)];if(!window[_0x2bf7d9(0x214)]){alert(_0x2bf7d9(0x21d));return;}const _0x5d0a90=window['PixelStreamingConfig'];_0x5d0a90?ws=new WebSocket(APP[_0x2bf7d9(0x1ee)]):ws=new WebSocket(window[_0x2bf7d9(0x217)]['href'][_0x2bf7d9(0x26e)](_0x2bf7d9(0x245),_0x2bf7d9(0x1d3))[_0x2bf7d9(0x26e)]('https://',_0x2bf7d9(0x1a8))),ws[_0x2bf7d9(0xc3)]=function(_0x35e9a5){const _0x2d32b5=_0x2bf7d9;MsgEvent[_0x2d32b5(0x169)]('ws.onmessage'),MsgEvent[_0x2d32b5(0xe3)](_0x2d32b5(0x281)+_0x35e9a5[_0x2d32b5(0x121)]);var _0x139fa2=JSON[_0x2d32b5(0x22b)](_0x35e9a5[_0x2d32b5(0x121)]);APP['ws']['onmessage'](_0x139fa2,_0x35e9a5['data']);if(_0x139fa2[_0x2d32b5(0x140)]===_0x2d32b5(0xe8))onConfig(_0x139fa2);else{if(_0x139fa2[_0x2d32b5(0x140)]===_0x2d32b5(0x199))updateKickButton(_0x139fa2['count']-0x1);else{if(_0x139fa2['type']===_0x2d32b5(0xf7))onWebRtcAnswer(_0x139fa2);else _0x139fa2[_0x2d32b5(0x140)]==='iceCandidate'?onWebRtcIce(_0x139fa2['candidate']):MsgEvent['log'](_0x2d32b5(0x1bb)+_0x139fa2[_0x2d32b5(0x140)]);}}},ws['onerror']=function(_0x234483){const _0x2961e6=_0x2bf7d9;MsgEvent[_0x2961e6(0x169)](_0x2961e6(0x24d)),MsgEvent[_0x2961e6(0xe3)](_0x2961e6(0xe9)+JSON['stringify'](_0x234483)),APP['ws']['onerror'](_0x234483[_0x2961e6(0x210)],_0x234483[_0x2961e6(0x1b1)]);},ws['onclose']=function(_0x3a919e){const _0x49fc39=_0x2bf7d9;MsgEvent['func'](_0x49fc39(0x201)),APP['ws'][_0x49fc39(0x176)](_0x3a919e[_0x49fc39(0x210)],_0x3a919e[_0x49fc39(0x1b1)]),MsgEvent['log'](_0x49fc39(0x10a)+JSON['stringify'](_0x3a919e[_0x49fc39(0x210)])+_0x49fc39(0x1e1)+_0x3a919e[_0x49fc39(0x1b1)]),ws=undefined,is_reconnection=!![];let _0x1e46b3=document['getElementById']('player');webRtcPlayerObj&&(_0x1e46b3['removeChild'](webRtcPlayerObj[_0x49fc39(0xfb)]),webRtcPlayerObj[_0x49fc39(0xd9)](),webRtcPlayerObj=undefined);showTextOverlay('Disconnected:\x20'+_0x3a919e[_0x49fc39(0x1b1)]);var _0x35b461=setTimeout(start,0xfa0);};}function onConfig(_0x25c193){const _0x4e40cb=a0_0xd66924;MsgEvent[_0x4e40cb(0x169)](_0x4e40cb(0x290));let _0x41e08a=document[_0x4e40cb(0x255)](_0x4e40cb(0x105)),_0x2b025b=setupWebRtcPlayer(_0x41e08a,_0x25c193);resizePlayerStyle();switch(inputOptions['controlScheme']){case ControlSchemeType[_0x4e40cb(0x1cc)]:registerHoveringMouseEvents(_0x2b025b);break;case ControlSchemeType['LockedMouse']:registerLockedMouseEvents(_0x2b025b);break;default:MsgEvent[_0x4e40cb(0xe3)]('ERROR:\x20Unknown\x20control\x20scheme\x20'+inputOptions[_0x4e40cb(0x284)]),registerLockedMouseEvents(_0x2b025b);break;}}function load(){const _0xd67696=a0_0xd66924;MsgEvent[_0xd67696(0x169)](_0xd67696(0x14a)),setupHtmlEvents(),setupFreezeFrameOverlay(),registerKeyboardEvents(),connect(),updateKickButton(0x0);}function a0_0xb849(){const _0x3314d3=['autoPlay','\x22>Bad\x20network\x20connection</div>','pointerlockchange','PixelStreaming.Encoder.MinQP\x20','code','encoder-target-bitrate-text','):\x20','mouse\x20button\x20','WebSocket','QualityControlOwnership','message','location','UEPreCaptureTimeMs','LockedMouse','top','orange','setupMouseAndFreezeFrame','Your\x20browser\x20doesn\x27t\x20support\x20WebSocket','undefined','stringify','onCallback','onCommand','body','ps_verification_id','img','timestampStart','resizePlayerStyleToActualSize','1052025HjnaXr','bitrate','UEPostEncodeTimeMs','Connection\x20to:','parse','MozWebSocket','command','latencyTestTimings','requestPointerLock','actions','setupNormalizeAndQuantize','fixed-size','payload','show-stats-tgl','Not\x20connected','movementX','FrameDisplayDeltaTimeMs','onConnect','exhausted\x20touch\x20indentifiers','innerHeight','div','orientationchange','resizePlayerStyleToArbitrarySize','setupWebRtcPlayer','forgetTouch','style','kick','->\x20SS:\x20stats\x0a','mouseDown','latencyTestTimings.latencyTestTimings.OnAllLatencyTimingsReady','http://','<div\x20style=\x22color:\x20','stat\x20fps','showFreezeFrame','showFreezeFrameOverlay','usersCount','navigator','hosts','ws.onerror','href','ps.metaeditor.io','<div>Duration:\x20','mouse_down','setres\x20','countdownTimer','Setup\x20Normalize\x20and\x20Quantize\x20for\x20playerAspectRatio\x20<=\x20videoAspectRatio','getElementById','PixelStreaming.WebRTC.HighQpThreshold\x20','hiddenState','unrecognized\x20data\x20received,\x20packet\x20ID\x20','BackSpace','reduce','command_verification','movementY','connect','peerConnectionOptions','Done!','createOnScreenKeyboardHelpers','WebRTC','mozpointerlockchange','WebRTC\x20player\x20not\x20setup,\x20cannot\x20create\x20offer','documentElement','top:\x20','cursor','encoder-min-qp-text','bytesReceived','stream','initialised','data:image/jpeg;base64,','>\x20not\x20executed,\x20stream\x20not\x20loaded\x20yet','enabled','replace','mouse\x20wheel\x20with\x20delta\x20','touches','Encoder','input','LowQP','protocol','This\x20version\x20of\x20MetaEditor\x20is\x20not\x20licensed.\x20Please\x20contact\x20with\x20support.',',\x20dY:\x20','4995263nAHNZZ','KeyPress','Response','<div>Total\x20UE\x20latency\x20(ms):\x20','ontouchmove','grey-status','now','550265xtlwGS','Start\x20Streaming','app_key','<-\x20SS:\x20','->\x20SS:\x20iceCandidate\x0a','naturalHeight','controlScheme','InitialSettings','language','Kick\x20(','AuxiliaryButton','webRtcPlayerObj.onWebRtcOffer','enlarge-display-to-fill-window-tgl','MinQP','onkeyup','interface','8EnQCJT','PixelStreaming.WebRTC.LowQpThreshold\x20','onConfig','Pointer\x20locked','onmousewheel','active','???','closeTimeout','classList','getInt32','px;\x20left:\x20','onmessage','</div>','onUserCount','Click\x20to\x20start','<div>Video\x20Resolution:\x20','resizePlayerStyle','3tzSGNM','json','readyState','touch\x20move','events','red','warn','createElement','onMouseMove','<div>Net\x20latency\x20RTT\x20(ms):\x20','zIndex','invalidateFreezeFrameOverlay','iceCandidate','KeyDown','registerHoveringMouseEvents','registerInputs','close','appendChild','join','WebRTC\x20connected,\x20waiting\x20for\x20video','framesDecoded','key\x20up\x20','videoWidth','overlay','buttons','receiveToCompositeMs','log','mozPointerLockElement','suppressBrowserKeys','\x22>Bitrate\x20(kbps):\x20','currentRoundTripTime','config','WS\x20error:\x20','charCodeAt','\x20at\x20(','setUint8','floor','autoplay','received\x20bigger\x20freeze\x20frame\x20than\x20advertised:\x20','top:\x200px;\x20left:\x200px;\x20width:\x20','UEPreEncodeTimeMs','loadedTimes','://','removeEventListener','\x20down\x20at\x20(','left','answer','none','jpeg','releaseMouseButtons','video','https://api.unrealos.com/api/metaeditor/verify','Setup\x20Normalize\x20and\x20Quantize\x20for\x20playerAspectRatio\x20>\x20videoAspectRatio','<div>UE\x20Encode\x20(ms):\x20','format','MinBitrate','innerHTML','charCode','warnTimer','VideoEncoderAvgQP','player','kick-other-players-button','slice','emitTouchData','contains','WS\x20closed:\x20','updateVideoStreamSize','init','identifier','Unable\x20to\x20setup\x20video','onVideoInitialised','remove','FourthButton','callbacks','OnAllLatencyTimingsReady','width','mouse\x20leave','stats','height','checked','overlayButton','registerKeyboardEvents','set','UEReceiptTimeMs','timestamp','default','emit','src','data','127.0.0.1','frameWidth','lastChild','button','<div>UE\x20Capture+Encode\x20(ms):\x20','PixelStreaming.WebRTC.MaxFps\x20','<div>Frames\x20dropped:\x20','keyCode','<center>No\x20activity\x20detected<br>Disconnecting\x20in\x20','repeat','resizeFreezeFrameOverlay','playButton','1648242JuSvoO','webrtc-max-fps-text','Chrome\x20only','1494840QYOtha','PixelStreaming.Encoder.RateControl\x20','encoder-filler-data-tgl','add','onDataChannelConnected','DOMMouseScroll','frameHeight','PrimaryButton','KeyUp','ontouchstart','<div>Browser\x20receive\x20latency\x20(ms):\x20','videoPlayOverlay','Got\x20latency\x20timings\x20from\x20UE.','disabled','offsetLeft','type','clientX','setVideoQuality','Control','isKeyCodeBrowserKey','onWebRtcCandidate','utf-16','setInt16','pressMouseButtons','RightShift','load','MaxBitrate','abs','webRtcPlayerObj.onWebRtcCandidate','host','DegradationPref','VIDEO','framesDropped','startLatencyTest','onmousemove','oncontextmenu','\x20up\x20at\x20(','pop','time','onAggregatedStats','Resizing\x20too\x20often\x20-\x20skipping','receiving','UnfreezeFrame','onmouseup','onmousedown','qualityStatus','POST',',\x20y:','encoder-multipass','getTime','NumberFormat','<div>Frames\x20Decoded:\x20','SetUETimings','<div>Received\x20(','changedTouches','alt','func','start','credentials','ontouchend','N/A','messageOverlay','Command','force','hasOwnProperty','pointerLockElement','clientY','absolute','FreezeFrame','onclose','click','exit','://:','MouseEnter','MaxFPS','resizePlayerStyleToFillWindow','\x20bytes)\x20of\x20freeze\x20frame:\x20','<div>Total\x20latency\x20(ms):\x20','mozRequestPointerLock','display','hiddenInput','show-fps-button','videoHeight','pointerEvents','Shift','webrtc-max-bitrate-text','lime','mouseDownMove','send','MultiPass','onmouseleave','length','onmouseenter','key\x20press\x20','decode','play','ShiftRight','requestQualityControl','px;\x20width:\x20','request','position','verification_id','Actions\x20not\x20initialised','updateKickButton','playerCount','webRtcPlayerObj.onVideoInitialised','naturalWidth','webrtc-degradation-pref','getElementsByTagName','<div>Net\x20RTT\x20(ms):\x20','FifthButton','mousemove','removeResponseEventListener','status','onerror','MainButton','freezeFrameOverlay','px;\x20cursor:\x20','received\x20complete\x20freeze\x20frame\x20','wss://','<div>Browser\x20receive\x20to\x20composite\x20(ms):\x20','detail','Status','offsetY','PixelStreaming.WebRTC.MaxBitrate\x20','onLoad','count','LatencyStats','reason','<div>Packets\x20Lost:\x20','application/json','PixelStreaming.WebRTC.DegradationPreference\x20','TargetBitrate','onWebRtcOffer','registerTouchEvents','onchange','post','mouse\x20enter','invalid\x20SS\x20message\x20type:\x20','23923270QtwSbq','quality-control-ownership-tgl','BrowserReceiptTimeMs','callback_key','MouseDown','encoder-params-submit','UEPostCaptureTimeMs','encoder-max-bitrate-text','px;\x20height:\x20','received\x20next\x20chunk\x20(','offsetX','https:','showOnScreenKeyboard','resize','MouseLeave','target','HoveringMouse','overlay-shown','clientWidth','mozExitPointerLock','setUint16','The\x20pointer\x20lock\x20status\x20is\x20now\x20unlocked','wheelDelta','ws://','push','size','onclick','<div>Framerate:\x20','error','\x22>Spotty\x20network\x20connection</div>','onkeypress','setupFreezeFrameOverlay','webrtc-high-qp-text','emitUIInteraction','valid','TouchEnd','exitPointerLock','\x20-\x20','MouseMove','search','countdown','9YAKeOO','encoder-rate-control','x:\x20','statsContainer','grab','clientHeight','value','217690miTlHA','PixelStreaming.Encoder.MaxBitrateVBR\x20','socketUrl','AltRight','rememberTouch','addEventListener','muted','innerWidth','PixelStreamingConfig','fromCharCode','handle_responses','Can\x27t\x20parse\x20callback','onQuality','ps_funcs','edit\x20text','framerate','playsinline','getBoundingClientRect','HighQP','emitCommand','RequestQualityControl','ws.onclose','srcObject','preventDefault','buffer','blur','TouchStart','SecondaryButton','requestInitialSettings','packetsLost','opacity:\x20','onWebRtcAnswer'];a0_0xb849=function(){return _0x3314d3;};return a0_0xb849();}import a0_0x32935e from'url';import a0_0x2e05f1 from'./webRtcPlayer/';import{BaseCommands,MsgEvent,Config}from'./middleware/';let receivedBytesMeasurement=null,receivedBytes=null,unquantizeAndDenormalizeUnsigned=null;const PROTECTION=new class{async[a0_0xd66924(0x194)](_0xbed7f9,_0x547291,_0x4c5115={}){const _0x49351a=a0_0xd66924;let _0x1aa7fa={'method':_0xbed7f9,'mode':'cors','headers':{'Content-Type':_0x49351a(0x1b3)}};try{_0x1aa7fa['body']=JSON['stringify'](_0x4c5115[_0x49351a(0x222)]);}catch(_0x2371dd){}return await fetch(_0x547291,_0x1aa7fa)['then'](async _0x51332c=>{const _0x79add0=_0x49351a;try{return{'status':_0x51332c[_0x79add0(0x1a2)],'body':await _0x51332c[_0x79add0(0xca)]()};}catch(_0x15b565){return{'status':_0x51332c[_0x79add0(0x1a2)],'error':_0x15b565};}});}async[a0_0xd66924(0x1b9)](_0x5d02d0,_0x3a37e8){const _0x111caa=a0_0xd66924;return await this[_0x111caa(0x194)](_0x111caa(0x15f),_0x5d02d0,{'body':_0x3a37e8});}async['init'](){const _0x578795=a0_0xd66924;if(typeof window==='undefined')return;const _0x360454={'hosts':['localhost',_0x578795(0x122),_0x578795(0x24f)],'apiUrl':_0x578795(0xfc),'message':_0x578795(0x275)};let _0x522f9a=![];for(let _0x598342 of _0x360454[_0x578795(0x24c)]){if(document['location'][_0x578795(0x24e)][_0x578795(0x1e3)](_0x578795(0xf3)+_0x598342)){_0x522f9a=!![];break;}}const _0x5c87a0={'referer':document[_0x578795(0x217)][_0x578795(0x24e)]},_0x5b76d5='*'['repeat'](0x64),_0x356eba='\x0a'[_0x578795(0x12b)](0x5),_0x4709e2=[_0x356eba,_0x5b76d5,_0x360454[_0x578795(0x216)],_0x5b76d5,_0x356eba][_0x578795(0xdb)]('\x0a');console[_0x578795(0x1d8)](_0x4709e2);}}();class Controller extends BaseCommands{constructor(..._0x4b9b1f){const _0x390021=a0_0xd66924;super(..._0x4b9b1f),PROTECTION[_0x390021(0x10c)](),this['config']=Config,this['usersCount']=0x0,this[_0x390021(0x26a)]=![],this[_0x390021(0x20c)]=!![],this['loadedTimes']=0x0,this[_0x390021(0x266)]=_0x390021(0x1e9),this[_0x390021(0xe0)]=![],typeof window!==_0x390021(0x21e)&&(window[_0x390021(0x1f9)]={'sendStartLatencyTest':()=>sendStartLatencyTest()});}get[a0_0xd66924(0x112)](){const _0x208f0f=a0_0xd66924;if(typeof window===_0x208f0f(0x21e))return;const _0x32aa3c=_0x208f0f(0x1f6),_0x1181be=this['config'][_0x208f0f(0x1bf)],_0x1cd335=()=>{addResponseEventListener(_0x32aa3c,_0x2d22b6=>{const _0x2a41c0=a0_0x1608;try{let _0x2e01d0=JSON[_0x2a41c0(0x22b)](_0x2d22b6),_0x4dd2ab={'caller':_0x2a41c0(0x269),'type':_0x2e01d0['type']||null,'verification_id':null,'time':null,'payload':{'value':_0x2e01d0[_0x2a41c0(0x1eb)]||null},'__str__':_0x2d22b6};if(_0x2e01d0[_0x2a41c0(0x140)]===_0x2a41c0(0x25b)){const {id:_0x12f41c,time:_0x495a7e}=_0x2e01d0,{type:_0x409296,value:_0x3e62c2}=_0x2e01d0[_0x2a41c0(0x233)];_0x4dd2ab['caller']=_0x2a41c0(0x28d),_0x4dd2ab[_0x2a41c0(0x140)]=_0x409296,_0x4dd2ab[_0x2a41c0(0x233)][_0x2a41c0(0x1eb)]=_0x3e62c2,_0x4dd2ab[_0x2a41c0(0x196)]=_0x12f41c,_0x4dd2ab[_0x2a41c0(0x157)]=_0x495a7e;}return _0x4dd2ab[_0x2a41c0(0x140)]&&this[_0x2a41c0(0x230)][_0x2a41c0(0x220)](_0x4dd2ab),_0x4dd2ab;}catch(_0x50cf03){throw new Error(_0x2a41c0(0x1f7));console[_0x2a41c0(0x1d8)]({'err':_0x50cf03,'payload_str':_0x2d22b6});}});},_0x3dad3f=()=>{const _0x2b7be6=_0x208f0f;document[_0x2b7be6(0xf4)](_0x1181be,()=>{});try{removeResponseEventListener(_0x32aa3c);}catch(_0x485b93){MsgEvent['error'](_0x2b7be6(0x1a1),_0x485b93);}};return{'set':_0x1cd335,'remove':_0x3dad3f};}['onVideoInitialised'](){const _0x242610=a0_0xd66924;MsgEvent[_0x242610(0x169)]('listener',_0x242610(0x10f));if(this['initialised'])return;webRtcPlayerObj&&(webRtcPlayerObj[_0x242610(0xfb)][_0x242610(0x1f2)]=!![],webRtcPlayerObj['video'][_0x242610(0x1fc)]=!![],this[_0x242610(0x20c)]&&(webRtcPlayerObj[_0x242610(0xfb)][_0x242610(0xee)]=!![],webRtcPlayerObj[_0x242610(0xfb)][_0x242610(0x190)]())),hideOverlay(),startAfkWarningTimer();}get[a0_0xd66924(0xcd)](){const _0x257778=_0x1388b7=>{const _0x2d3f0b=a0_0x1608;this['mouse_down']=_0x1388b7,!_0x1388b7&&this[_0x2d3f0b(0x230)][_0x2d3f0b(0xd1)](![]);},_0x10d389=()=>{const _0x349131=a0_0x1608;this[_0x349131(0x251)]&&this[_0x349131(0x230)][_0x349131(0xd1)](!![]);};return{'mouseDown':_0x257778,'mouseDownMove':_0x10d389};}get['ws'](){const _0x25cf4f=(_0x24e0f1,_0x190928)=>{const _0x4e936c=a0_0x1608;MsgEvent[_0x4e936c(0x1d8)](_0x4e936c(0xc3),{'msg':_0x24e0f1,'data':_0x190928}),_0x24e0f1[_0x4e936c(0x140)]===_0x4e936c(0x199)&&(this[_0x4e936c(0x24a)]=_0x24e0f1[_0x4e936c(0x1af)]-0x1,this[_0x4e936c(0x230)][_0x4e936c(0xc5)](this['usersCount']));},_0x361f5d=(_0x6ff43e,_0x404520)=>{const _0x40e749=a0_0x1608;MsgEvent[_0x40e749(0x1d8)](_0x40e749(0x1a3),{'code':_0x6ff43e,'reason':_0x404520}),this[_0x40e749(0xf2)]=0x0,this[_0x40e749(0x230)]['onError']({'code':_0x6ff43e,'reason':_0x404520});},_0x4a7068=(_0x220ed1,_0x3555b7)=>{const _0x2c9319=a0_0x1608;MsgEvent[_0x2c9319(0x1d8)](_0x2c9319(0x176),{'code':_0x220ed1,'reason':_0x3555b7}),this['loadedTimes']=0x0,this[_0x2c9319(0x230)]['onClose']({'code':_0x220ed1,'reason':_0x3555b7});};return{'onmessage':_0x25cf4f,'onerror':_0x361f5d,'onclose':_0x4a7068};}[a0_0xd66924(0x1ae)](){const _0x3631dd=a0_0xd66924;this[_0x3631dd(0xf2)]===0x0&&setTimeout(()=>{const _0x1c0ce2=_0x3631dd;this[_0x1c0ce2(0x230)][_0x1c0ce2(0x1ae)](window['PixelStreamingConfig']),this[_0x1c0ce2(0x26a)]=!![],this['resize']();},0x3e8*1.5),this[_0x3631dd(0xf2)]+=0x1;}[a0_0xd66924(0x158)](_0x14c988){const _0x20cbec=a0_0xd66924;this['actions'][_0x20cbec(0x158)](_0x14c988),this['onLoad']();}['onDataChannelMessage']([_0x563781,_0x5d2674]){if(_0x563781===ToClientMessageType['QualityControlOwnership']){}}[a0_0xd66924(0x142)](_0x419768){const _0x4828a9=a0_0xd66924;this[_0x4828a9(0x230)][_0x4828a9(0x1f8)](_0x419768);}}class AppClass extends Controller{constructor(){super();}[a0_0xd66924(0x10c)](_0x4cc4f4){const _0x75aa9a=a0_0xd66924;this[_0x75aa9a(0x230)]=_0x4cc4f4,this[_0x75aa9a(0x112)][_0x75aa9a(0x11b)](),this[_0x75aa9a(0x16a)](this[_0x75aa9a(0x230)][_0x75aa9a(0x16b)]);}['reinit'](){const _0x4c03f5=a0_0xd66924;if(!this[_0x4c03f5(0x230)]){console['error'](_0x4c03f5(0x197));return;}this[_0x4c03f5(0x16a)](this[_0x4c03f5(0x230)]['credentials']);}get[a0_0xd66924(0x1ee)](){const _0x56c57c=a0_0xd66924,_0x45ef1e=window[_0x56c57c(0x1f4)],_0x1433a5=a0_0x32935e[_0x56c57c(0x22b)](_0x45ef1e[_0x56c57c(0x14e)]),_0x14a794=a0_0x32935e[_0x56c57c(0xff)]({'protocol':_0x1433a5[_0x56c57c(0x274)]===_0x56c57c(0x1c7)?_0x56c57c(0x1a8):'ws://','host':_0x1433a5[_0x56c57c(0x14e)],'port':_0x45ef1e['port']!=0x50?_0x45ef1e['port']:undefined})['replace'](_0x56c57c(0x179),_0x56c57c(0xf3));return MsgEvent[_0x56c57c(0xe3)](_0x56c57c(0x22a),_0x14a794),_0x14a794;}[a0_0xd66924(0x178)](){const _0x43dea4=a0_0xd66924,_0xcb31f7=this['autoPlay'];this[_0x43dea4(0x20c)]=![],ws[_0x43dea4(0xd9)](),is_reconnection=![],this[_0x43dea4(0x112)][_0x43dea4(0x110)](),this[_0x43dea4(0x26a)]=![],this['autoPlay']=_0xcb31f7;}[a0_0xd66924(0x16a)]({host:_0x76d5f6,port:port=0x50,warnTimeout:warnTimeout=0x78,closeTimeout:closeTimeout=0xa,lockMouse:lockMouse=![],autoPlay:autoPlay=!![]}={}){const _0x4c8c7e=a0_0xd66924;_0x76d5f6&&(window['PixelStreamingConfig']={'host':_0x76d5f6,'port':port},MsgEvent[_0x4c8c7e(0xcf)]('config',window[_0x4c8c7e(0x1f4)])),this[_0x4c8c7e(0x20c)]=autoPlay,afk={...afk,'active':!![],'warnTimeout':warnTimeout,'closeTimeout':closeTimeout},inputOptions[_0x4c8c7e(0x284)]=lockMouse?0x0:0x1,inputOptions['fakeMouseWithTouches']=!![],shouldShowPlayOverlay=this[_0x4c8c7e(0xe0)],connect_on_load=this[_0x4c8c7e(0x20c)],load(),this[_0x4c8c7e(0x230)][_0x4c8c7e(0x238)]();}[a0_0xd66924(0x11f)](_0x5cd257){const _0x1a4635=a0_0xd66924;if(!this[_0x1a4635(0x26a)]){const _0x44970f='<'+_0x5cd257[_0x1a4635(0x140)]+_0x1a4635(0x26c);this[_0x1a4635(0x230)]?.['onCommand']({..._0x5cd257,'error':_0x44970f}),console[_0x1a4635(0x1d8)](_0x44970f,_0x5cd257);return;}window[_0x1a4635(0x223)]=window?.[_0x1a4635(0x223)]+0x1||0x0,_0x5cd257[_0x1a4635(0x196)]=_0x5cd257[_0x1a4635(0x140)]+'='+window[_0x1a4635(0x223)],MsgEvent[_0x1a4635(0xcf)](_0x1a4635(0x11f),_0x5cd257),emitUIInteraction(_0x5cd257),this[_0x1a4635(0x230)]?.[_0x1a4635(0x221)](_0x5cd257);}}const APP=new AppClass();typeof window!==a0_0xd66924(0x21e)&&(window[Config[a0_0xd66924(0x280)]]=APP);export default APP;